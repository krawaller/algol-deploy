_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[114],{"2qw5":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={initial:{unit1:{pos:"a1",id:"unit1",group:"knights",owner:1,icon:"knight"},unit2:{pos:"b1",id:"unit2",group:"knights",owner:1,icon:"knight"},unit3:{pos:"c1",id:"unit3",group:"knights",owner:1,icon:"knight"},unit4:{pos:"d1",id:"unit4",group:"knights",owner:1,icon:"knight"},unit5:{pos:"e1",id:"unit5",group:"knights",owner:1,icon:"knight"},unit6:{pos:"a5",id:"unit6",group:"knights",owner:2,icon:"knight"},unit7:{pos:"b5",id:"unit7",group:"knights",owner:2,icon:"knight"},unit8:{pos:"c5",id:"unit8",group:"knights",owner:2,icon:"knight"},unit9:{pos:"d5",id:"unit9",group:"knights",owner:2,icon:"knight"},unit10:{pos:"e5",id:"unit10",group:"knights",owner:2,icon:"knight"}},patches:[{unit1:{pos:["a1","a2"]}},{unit8:{pos:["c5","e4"]}}],anims:{}};t.b=i},"51Tv":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/chameleon",function(){return n("ZwDV")}])},ZwDV:function(e,t,n){"use strict";n.r(t),n.d(t,"Game",(function(){return L}));var i=n("ERkP"),s=n.n(i),r=n("rePB"),o=n("ODXe"),a=n("cDpP");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,s=function(){};return{s:s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw r}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var v,g,p,b,h={},d={knights:"knight",bishops:"bishop"},T={knights:[["units","knights"],["units","myunits","knights"],["units","oppunits","knights"]],bishops:[["units","bishops"],["units","myunits","bishops"],["units","oppunits","bishops"]]},A={knights:[["units","knights"],["units","oppunits","knights"],["units","myunits","knights"]],bishops:[["units","bishops"],["units","oppunits","bishops"],["units","myunits","bishops"]]},f={gameId:"chameleon",commands:{move:{}},iconMap:d,setBoard:function(e){v=Object(a.P)(e,1),g=Object(a.P)(e,2),b={height:e.height,width:e.width},Object(a.e)(b),p=Object(a.d)(e),Object(a.A)(e)},newBattle:function(e,t){var n=Object(a.M)(e),i={units:{},myunits:{},oppunits:{},knights:{},bishops:{}};for(var s in n){var r,o=n[s],c=o.group,u=o.pos,m=o.owner,v=l(A[c][m]);try{for(v.s();!(r=v.n()).done;){i[r.value][u]=o}}catch(g){v.e(g)}finally{v.f()}}return f.action["startTurn_".concat(t,"_1")]({TURN:0,UNITDATA:n,UNITLAYERS:i})},action:{startTurn_basic_1:function(e){var t={invaders:{}},n=e.UNITLAYERS,i={units:n.units,myunits:n.oppunits,oppunits:n.myunits,knights:n.knights,bishops:n.bishops},s={marks:{},commands:{}},r=Object.entries(Object.keys(i.oppunits).concat(Object.keys(v.mybase)).reduce((function(e,t){return e[t]=(e[t]||0)+1,e}),{})).filter((function(e){var t=Object(o.a)(e,2);t[0];return 2===t[1]})).reduce((function(e,t){return e[Object(o.a)(t,1)[0]]=h,e}),{}),a=t.invaders;for(var c in r){var u=r[c];a[c]=u}for(var l=0,m=Object.keys(i.myunits);l<m.length;l++){var g=m[l];s.marks[g]="selectunit_basic_1"}return{UNITDATA:e.UNITDATA,LINKS:s,UNITLAYERS:i,ARTIFACTS:t,MARKS:{},TURN:e.TURN+1}},startTurn_basic_2:function(e){var t={invaders:{}},n=e.UNITLAYERS,i={units:n.units,myunits:n.oppunits,oppunits:n.myunits,knights:n.knights,bishops:n.bishops},s={marks:{},commands:{}},r=Object.entries(Object.keys(i.oppunits).concat(Object.keys(g.mybase)).reduce((function(e,t){return e[t]=(e[t]||0)+1,e}),{})).filter((function(e){var t=Object(o.a)(e,2);t[0];return 2===t[1]})).reduce((function(e,t){return e[Object(o.a)(t,1)[0]]=h,e}),{}),a=t.invaders;for(var c in r){var u=r[c];a[c]=u}for(var l=0,m=Object.keys(i.myunits);l<m.length;l++){var v=m[l];s.marks[v]="selectunit_basic_2"}return{UNITDATA:e.UNITDATA,LINKS:s,UNITLAYERS:i,ARTIFACTS:t,MARKS:{},TURN:e.TURN}},selectunit_basic_1:function(e,t){var n,i={invaders:e.ARTIFACTS.invaders,morph:{},movetarget:{}},s={marks:{},commands:{}},r={selectunit:t},o=e.UNITLAYERS,c=r.selectunit,m=p[c],v=l(a.J);try{for(v.s();!(n=v.n()).done;){var g=n.value,b=m[g];b&&(o.myunits[b]||(i[-1!==a.n.indexOf(g)&&o.knights[c]||-1!==a.D.indexOf(g)&&o.bishops[c]?"morph":"movetarget"][b]=h))}}catch(w){v.e(w)}finally{v.f()}if(o.knights[r.selectunit]){var d,T=p[r.selectunit],A=l(a.y);try{for(A.s();!(d=A.n()).done;){var f=T[d.value];f&&(o.myunits[f]||(i.movetarget[f]=h))}}catch(w){A.e(w)}finally{A.f()}}if(o.bishops[r.selectunit]){var y,k=o.units,O=l(a.n);try{for(O.s();!(y=O.n()).done;){for(var j=y.value,S=r.selectunit;(S=p[S][j])&&!k[S];)i.movetarget[S]=h;k[S]&&(o.myunits[S]||(i.movetarget[S]=h))}}catch(w){O.e(w)}finally{O.f()}}for(var I=0,R=Object.keys(u(u({},i.movetarget),i.morph));I<R.length;I++){var N=R[I];s.marks[N]="selectmovetarget_basic_1"}return{LINKS:s,ARTIFACTS:i,UNITLAYERS:o,UNITDATA:e.UNITDATA,TURN:e.TURN,MARKS:r}},selectmovetarget_basic_1:function(e,t){var n={marks:{},commands:{}};return n.commands.move="move_basic_1",{LINKS:n,ARTIFACTS:e.ARTIFACTS,UNITLAYERS:e.UNITLAYERS,UNITDATA:e.UNITDATA,TURN:e.TURN,MARKS:{selectunit:e.MARKS.selectunit,selectmovetarget:t}}},selectunit_basic_2:function(e,t){var n,i={invaders:e.ARTIFACTS.invaders,morph:{},movetarget:{}},s={marks:{},commands:{}},r={selectunit:t},o=e.UNITLAYERS,c=r.selectunit,m=p[c],v=l(a.J);try{for(v.s();!(n=v.n()).done;){var g=n.value,b=m[g];b&&(o.myunits[b]||(i[-1!==a.n.indexOf(g)&&o.knights[c]||-1!==a.D.indexOf(g)&&o.bishops[c]?"morph":"movetarget"][b]=h))}}catch(w){v.e(w)}finally{v.f()}if(o.knights[r.selectunit]){var d,T=p[r.selectunit],A=l(a.y);try{for(A.s();!(d=A.n()).done;){var f=T[d.value];f&&(o.myunits[f]||(i.movetarget[f]=h))}}catch(w){A.e(w)}finally{A.f()}}if(o.bishops[r.selectunit]){var y,k=o.units,O=l(a.n);try{for(O.s();!(y=O.n()).done;){for(var j=y.value,S=r.selectunit;(S=p[S][j])&&!k[S];)i.movetarget[S]=h;k[S]&&(o.myunits[S]||(i.movetarget[S]=h))}}catch(w){O.e(w)}finally{O.f()}}for(var I=0,R=Object.keys(u(u({},i.movetarget),i.morph));I<R.length;I++){var N=R[I];s.marks[N]="selectmovetarget_basic_2"}return{LINKS:s,ARTIFACTS:i,UNITLAYERS:o,UNITDATA:e.UNITDATA,TURN:e.TURN,MARKS:r}},selectmovetarget_basic_2:function(e,t){var n={marks:{},commands:{}};return n.commands.move="move_basic_2",{LINKS:n,ARTIFACTS:e.ARTIFACTS,UNITLAYERS:e.UNITLAYERS,UNITDATA:e.UNITDATA,TURN:e.TURN,MARKS:{selectunit:e.MARKS.selectunit,selectmovetarget:t}}},move_basic_1:function(e){var t={marks:{},commands:{}},n={invaders:e.ARTIFACTS.invaders,morph:e.ARTIFACTS.morph,movetarget:e.ARTIFACTS.movetarget},i=e.UNITLAYERS,s=u({},e.UNITDATA),o=e.MARKS;if(n.morph[o.selectmovetarget]){var a=(i.units[o.selectunit]||{}).id;a&&(s[a]=u(u({},s[a]),{},{group:i.knights[o.selectunit]?"bishops":"knights"}))}delete s[(i.units[o.selectmovetarget]||{}).id];var c=(i.units[o.selectunit]||{}).id;for(var m in c&&(s[c]=u(u({},s[c]),{},{pos:o.selectmovetarget})),i={units:{},myunits:{},oppunits:{},knights:{},bishops:{}},s){var g,p=s[m],b=p.group,h=p.pos,d=p.owner,A=l(T[b][d]);try{for(A.s();!(g=A.n()).done;){i[g.value][h]=p}}catch(f){A.e(f)}finally{A.f()}}return(0===Object.keys(n.invaders).length||n.invaders[o.selectmovetarget])&&(1===Object.keys(i.myunits).length&&v.oppbase[o.selectmovetarget]?(t.endGame="win",t.endedBy="loneInvader",t.endMarks=Object.keys(Object(r.a)({},o.selectmovetarget,1))):v.oppbase[o.selectmovetarget]?(t.starvation={endGame:"win",endedBy:"persistentInvader",endMarks:Object.keys(Object(r.a)({},o.selectmovetarget,1))},t.endTurn="startTurn_basic_2"):t.endTurn="startTurn_basic_2"),{LINKS:t,MARKS:{},ARTIFACTS:n,TURN:e.TURN,UNITDATA:s,UNITLAYERS:i}},move_basic_2:function(e){var t={marks:{},commands:{}},n={invaders:e.ARTIFACTS.invaders,morph:e.ARTIFACTS.morph,movetarget:e.ARTIFACTS.movetarget},i=e.UNITLAYERS,s=u({},e.UNITDATA),o=e.MARKS;if(n.morph[o.selectmovetarget]){var a=(i.units[o.selectunit]||{}).id;a&&(s[a]=u(u({},s[a]),{},{group:i.knights[o.selectunit]?"bishops":"knights"}))}delete s[(i.units[o.selectmovetarget]||{}).id];var c=(i.units[o.selectunit]||{}).id;for(var m in c&&(s[c]=u(u({},s[c]),{},{pos:o.selectmovetarget})),i={units:{},myunits:{},oppunits:{},knights:{},bishops:{}},s){var v,p=s[m],b=p.group,h=p.pos,d=p.owner,T=l(A[b][d]);try{for(T.s();!(v=T.n()).done;){i[v.value][h]=p}}catch(f){T.e(f)}finally{T.f()}}return(0===Object.keys(n.invaders).length||n.invaders[o.selectmovetarget])&&(1===Object.keys(i.myunits).length&&g.oppbase[o.selectmovetarget]?(t.endGame="win",t.endedBy="loneInvader",t.endMarks=Object.keys(Object(r.a)({},o.selectmovetarget,1))):g.oppbase[o.selectmovetarget]?(t.starvation={endGame:"win",endedBy:"persistentInvader",endMarks:Object.keys(Object(r.a)({},o.selectmovetarget,1))},t.endTurn="startTurn_basic_1"):t.endTurn="startTurn_basic_1"),{LINKS:t,MARKS:{},ARTIFACTS:n,TURN:e.TURN,UNITDATA:s,UNITLAYERS:i}}},instruction:{startTurn_basic_1:function(e){var t=e.ARTIFACTS,n=e.UNITLAYERS;return Object(a.g)({line:[{select:"Select"},{text:"a"},{unittype:["bishop",1]},{text:"or"},{unittype:["knight",1]},0===Object.keys(t.invaders).length?{text:"to move"}:Object(a.g)({line:[{text:"that can reach the"},{unit:[d[(n.units[Object.keys(t.invaders)[0]]||{}).group],(n.units[Object.keys(t.invaders)[0]]||{}).owner,Object.keys(t.invaders)[0]]},{text:"invader"}]})]})},move_basic_1:function(){return Object(a.l)(1)},selectunit_basic_1:function(e){var t=e.ARTIFACTS,n=e.MARKS,i=e.UNITLAYERS;return 0===Object.keys(t.invaders).length?Object(a.g)({line:[{text:"Select where to move"},{unit:[d[(i.units[n.selectunit]||{}).group],(i.units[n.selectunit]||{}).owner,n.selectunit]}]}):Object(a.g)({line:[{text:"Now"},{unit:[d[(i.units[n.selectunit]||{}).group],(i.units[n.selectunit]||{}).owner,n.selectunit]},{text:"must expel the"},{unit:[d[(i.units[Object.keys(t.invaders)[0]]||{}).group],(i.units[Object.keys(t.invaders)[0]]||{}).owner,Object.keys(t.invaders)[0]]},{text:"invader"}]})},selectmovetarget_basic_1:function(e){var t=e.ARTIFACTS,n=e.MARKS,i=e.UNITLAYERS;return Object(a.g)({line:[{text:"Press"},{command:"move"},{text:"to"},i.units[n.selectmovetarget]?Object(a.g)({line:[{text:"make"},{unit:[d[(i.units[n.selectunit]||{}).group],(i.units[n.selectunit]||{}).owner,n.selectunit]},{text:"stomp"},{unit:[d[(i.units[n.selectmovetarget]||{}).group],(i.units[n.selectmovetarget]||{}).owner,n.selectmovetarget]},v.mybase[n.selectmovetarget]?{text:", expelling the invader"}:void 0,v.oppbase[n.selectmovetarget]?{text:"in her own base"}:void 0]}):Object(a.g)({line:[{text:"move"},{unit:[d[(i.units[n.selectunit]||{}).group],(i.units[n.selectunit]||{}).owner,n.selectunit]},v.oppbase[n.selectmovetarget]?{text:"to invade the opponent base at"}:{text:"to"},{pos:n.selectmovetarget}]}),t.morph[n.selectmovetarget]?Object(a.g)({line:[{text:", turning it into a"},i.knights[n.selectunit]?{unittype:["bishop",1]}:{unittype:["knight",1]}]}):void 0]})},startTurn_basic_2:function(e){var t=e.ARTIFACTS,n=e.UNITLAYERS;return Object(a.g)({line:[{select:"Select"},{text:"a"},{unittype:["bishop",2]},{text:"or"},{unittype:["knight",2]},0===Object.keys(t.invaders).length?{text:"to move"}:Object(a.g)({line:[{text:"that can reach the"},{unit:[d[(n.units[Object.keys(t.invaders)[0]]||{}).group],(n.units[Object.keys(t.invaders)[0]]||{}).owner,Object.keys(t.invaders)[0]]},{text:"invader"}]})]})},move_basic_2:function(){return Object(a.l)(2)},selectunit_basic_2:function(e){var t=e.ARTIFACTS,n=e.MARKS,i=e.UNITLAYERS;return 0===Object.keys(t.invaders).length?Object(a.g)({line:[{text:"Select where to move"},{unit:[d[(i.units[n.selectunit]||{}).group],(i.units[n.selectunit]||{}).owner,n.selectunit]}]}):Object(a.g)({line:[{text:"Now"},{unit:[d[(i.units[n.selectunit]||{}).group],(i.units[n.selectunit]||{}).owner,n.selectunit]},{text:"must expel the"},{unit:[d[(i.units[Object.keys(t.invaders)[0]]||{}).group],(i.units[Object.keys(t.invaders)[0]]||{}).owner,Object.keys(t.invaders)[0]]},{text:"invader"}]})},selectmovetarget_basic_2:function(e){var t=e.ARTIFACTS,n=e.MARKS,i=e.UNITLAYERS;return Object(a.g)({line:[{text:"Press"},{command:"move"},{text:"to"},i.units[n.selectmovetarget]?Object(a.g)({line:[{text:"make"},{unit:[d[(i.units[n.selectunit]||{}).group],(i.units[n.selectunit]||{}).owner,n.selectunit]},{text:"stomp"},{unit:[d[(i.units[n.selectmovetarget]||{}).group],(i.units[n.selectmovetarget]||{}).owner,n.selectmovetarget]},g.mybase[n.selectmovetarget]?{text:", expelling the invader"}:void 0,g.oppbase[n.selectmovetarget]?{text:"in her own base"}:void 0]}):Object(a.g)({line:[{text:"move"},{unit:[d[(i.units[n.selectunit]||{}).group],(i.units[n.selectunit]||{}).owner,n.selectunit]},g.oppbase[n.selectmovetarget]?{text:"to invade the opponent base at"}:{text:"to"},{pos:n.selectmovetarget}]}),t.morph[n.selectmovetarget]?Object(a.g)({line:[{text:", turning it into a"},i.knights[n.selectunit]?{unittype:["bishop",2]}:{unittype:["knight",2]}]}):void 0]})}},variants:[{ruleset:"basic",board:"basic",setup:"basic",desc:"regular",code:"w",arr:{marks:["d4"],potentialMarks:["a1","b2","c3","d3","e3","c4","e4","c5","d5","e5"],setup:{knights:{1:["a1","c4"],2:["b4","a5"]},bishops:{1:["c2","d2"],2:["d4"]}}}}],boards:{basic:{height:5,width:5,terrain:{base:{1:[{rect:["a1","e1"]}],2:[{rect:["a5","e5"]}]}},offset:"knight"}},setups:{basic:{knights:{1:[{rect:["a1","e1"]}],2:[{rect:["a5","e5"]}]}}}},y=f,k=n("nIA/"),O=Object(k.a)(y),j=n("1SPG"),S=n("1s4E"),I=n("2qw5"),R=n("5Lnm"),N={api:O,graphics:j.a,meta:S.a,demo:I.b,rules:R.a,imgsToPreload:["/images/games/chameleon/chameleon.jpg"]},w=n("krfZ"),_=n("Xity"),U=n("+zLY"),x=n("0IYK"),E=s.a.createElement,L=function(){var e=Object(x.c)(N.api);return E(_.d.Provider,{value:N},E(_.e.Provider,{value:e},E(w.a,null)))};L.domain="chameleon",L.mainImage="/images/games/chameleon/chameleon_active.png",L.metaDesc="Play the abstract board game Chameleon at Chessicals! Shapeshift your way into the opponent base!",L.metaTitle="Chameleon by Mitsuo Yamamoto",L.title="Chameleon",L.preloadImages=N.imgsToPreload,L.nav=Object(U.a)(N.meta);t.default=L}},[["51Tv",1,0,2,3,4,5,6,7,32]]]);