_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[108],{"6XXs":function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var r={initial:{},patches:[{spawn1:[{pos:"e2",id:"spawn1",group:"knights",owner:1,icon:"knight"}]},{spawn2:[{pos:"d6",id:"spawn2",group:"knights",owner:2,icon:"knight"}]},{spawn1:{pos:["e2","d4"]},spawn3:[{pos:"e2",id:"spawn3",group:"marks",owner:1,icon:"pawn"}]},{spawn2:{pos:["d6","e4"]},spawn4:[{pos:"d6",id:"spawn4",group:"marks",owner:2,icon:"pawn"}]},{spawn1:{pos:["d4","e6"]},spawn5:[{pos:"d4",id:"spawn5",group:"marks",owner:1,icon:"pawn"}]},{spawn2:{pos:["e4","c5"]},spawn6:[{pos:"e4",id:"spawn6",group:"marks",owner:2,icon:"pawn"}]},{spawn1:{pos:["e6","f4"]},spawn7:[{pos:"e6",id:"spawn7",group:"marks",owner:1,icon:"pawn"}]},{spawn2:{pos:["c5","d3"]},spawn8:[{pos:"c5",id:"spawn8",group:"marks",owner:2,icon:"pawn"}]},{spawn1:{pos:["f4","d5"]},spawn9:[{pos:"f4",id:"spawn9",group:"marks",owner:1,icon:"pawn"}]},{spawn2:{pos:["d3","b4"]},spawn10:[{pos:"d3",id:"spawn10",group:"marks",owner:2,icon:"pawn"}]}],anims:{}};n.b=r},ETu0:function(t,n,e){"use strict";e.r(n),e.d(n,"Game",(function(){return P}));var r=e("ERkP"),s=e.n(r),a=e("rePB"),i=e("cDpP");function o(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function u(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?o(Object(e),!0).forEach((function(n){Object(a.a)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function c(t,n){var e;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"===typeof t)return p(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return p(t,n)}(t))||n&&t&&"number"===typeof t.length){e&&(t=e);var r=0,s=function(){};return{s:s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return i=t.done,t},e:function(t){o=!0,a=t},f:function(){try{i||null==e.return||e.return()}finally{if(o)throw a}}}}function p(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var m,g,l,T,A,d={},y={knights:"knight",marks:"pawn"},k={knights:[["units","knights"],["units","myunits","knights","myknights"],["units","oppunits","knights","oppknights"]],marks:[["units","marks"],["units","myunits","marks"],["units","oppunits","marks"]]},f={knights:[["units","knights"],["units","oppunits","knights","oppknights"],["units","myunits","knights","myknights"]],marks:[["units","marks"],["units","oppunits","marks"],["units","myunits","marks"]]},h={gameId:"campaign",commands:{deploy:{},jump:{}},iconMap:y,setBoard:function(t){m=Object(i.O)(t,1),Object(i.O)(t,2),A={height:t.height,width:t.width},T=Object(i.e)(A),g=Object(i.d)(t),l=Object(i.z)(t)},newBattle:function(t,n){var e=Object(i.L)(t),r={units:{},myunits:{},oppunits:{},knights:{},myknights:{},oppknights:{},marks:{}};for(var s in e){var a,o=e[s],u=o.group,p=o.pos,m=o.owner,g=c(f[u][m]);try{for(g.s();!(a=g.n()).done;){r[a.value][p]=o}}catch(l){g.e(l)}finally{g.f()}}return h.action["startTurn_".concat(n,"_1")]({NEXTSPAWNID:1,TURN:0,UNITDATA:e,UNITLAYERS:r})},action:{startTurn_basic_1:function(t){var n={jumptargets:{}},e=t.UNITLAYERS,r={units:e.units,myunits:e.oppunits,oppunits:e.myunits,knights:e.knights,myknights:e.oppknights,oppknights:e.myknights,marks:e.marks},s={marks:{},commands:{}},a=t.TURN+1;for(var o in r.myknights){var u,p=g[o],l=c(i.x);try{for(l.s();!(u=l.n()).done;){var A=p[u.value];A&&!r.units[A]&&(n.jumptargets[A]=d)}}catch(b){l.e(b)}finally{l.f()}}if(1===a)for(var y=0,k=Object.keys(Object.keys(T.board).filter((function(t){return!r.units.hasOwnProperty(t)&&!m.center.hasOwnProperty(t)})).reduce((function(t,n){return t[n]=d,t}),{}));y<k.length;y++){var f=k[y];s.marks[f]="selectdeploytarget_basic_1"}else for(var h=0,N=Object.keys(n.jumptargets);h<N.length;h++){var w=N[h];s.marks[w]="selectjumptarget_basic_1"}return{UNITDATA:t.UNITDATA,LINKS:s,UNITLAYERS:r,ARTIFACTS:n,MARKS:{},TURN:a,NEXTSPAWNID:t.NEXTSPAWNID,TURNVARS:{}}},startTurn_basic_2:function(t){var n={jumptargets:{}},e=t.UNITLAYERS,r={units:e.units,myunits:e.oppunits,oppunits:e.myunits,knights:e.knights,myknights:e.oppknights,oppknights:e.myknights,marks:e.marks},s={marks:{},commands:{}},a=t.TURN;for(var o in r.myknights){var u,p=g[o],m=c(i.x);try{for(m.s();!(u=m.n()).done;){var l=p[u.value];l&&!r.units[l]&&(n.jumptargets[l]=d)}}catch(w){m.e(w)}finally{m.f()}}if(1===a)for(var A=0,y=Object.keys(Object.keys(T.board).filter((function(t){return!r.units.hasOwnProperty(t)})).reduce((function(t,n){return t[n]=d,t}),{}));A<y.length;A++){var k=y[A];s.marks[k]="selectdeploytarget_basic_2"}else for(var f=0,h=Object.keys(n.jumptargets);f<h.length;f++){var N=h[f];s.marks[N]="selectjumptarget_basic_2"}return{UNITDATA:t.UNITDATA,LINKS:s,UNITLAYERS:r,ARTIFACTS:n,MARKS:{},TURN:a,NEXTSPAWNID:t.NEXTSPAWNID,TURNVARS:{}}},selectdeploytarget_basic_1:function(t,n){var e={marks:{},commands:{}};return e.commands.deploy="deploy_basic_1",{LINKS:e,ARTIFACTS:t.ARTIFACTS,UNITLAYERS:t.UNITLAYERS,UNITDATA:t.UNITDATA,TURN:t.TURN,MARKS:{selectdeploytarget:n},TURNVARS:t.TURNVARS,NEXTSPAWNID:t.NEXTSPAWNID,canAlwaysEnd:!0}},selectjumptarget_basic_1:function(t,n){var e={marks:{},commands:{}};return e.commands.jump="jump_basic_1",{LINKS:e,ARTIFACTS:t.ARTIFACTS,UNITLAYERS:t.UNITLAYERS,UNITDATA:t.UNITDATA,TURN:t.TURN,MARKS:{selectjumptarget:n},TURNVARS:t.TURNVARS,NEXTSPAWNID:t.NEXTSPAWNID,canAlwaysEnd:!0}},selectdeploytarget_basic_2:function(t,n){var e={marks:{},commands:{}};return e.commands.deploy="deploy_basic_2",{LINKS:e,ARTIFACTS:t.ARTIFACTS,UNITLAYERS:t.UNITLAYERS,UNITDATA:t.UNITDATA,TURN:t.TURN,MARKS:{selectdeploytarget:n},TURNVARS:t.TURNVARS,NEXTSPAWNID:t.NEXTSPAWNID,canAlwaysEnd:!0}},selectjumptarget_basic_2:function(t,n){var e={marks:{},commands:{}};return e.commands.jump="jump_basic_2",{LINKS:e,ARTIFACTS:t.ARTIFACTS,UNITLAYERS:t.UNITLAYERS,UNITDATA:t.UNITDATA,TURN:t.TURN,MARKS:{selectjumptarget:n},TURNVARS:t.TURNVARS,NEXTSPAWNID:t.NEXTSPAWNID,canAlwaysEnd:!0}},deploy_basic_1:function(t){var n={marks:{},commands:{}},e=t.UNITLAYERS,r=u({},t.UNITDATA),s=t.NEXTSPAWNID,a=t.MARKS,i="spawn"+s++;for(var o in r[i]={pos:a.selectdeploytarget,id:i,group:"knights",owner:1},e={units:{},myunits:{},oppunits:{},knights:{},myknights:{},oppknights:{},marks:{}},r){var p,m=r[o],g=m.group,l=m.pos,T=m.owner,A=c(k[g][T]);try{for(A.s();!(p=A.n()).done;){e[p.value][l]=m}}catch(d){A.e(d)}finally{A.f()}}return n.endTurn="startTurn_basic_2",{LINKS:n,MARKS:{},ARTIFACTS:t.ARTIFACTS,TURN:t.TURN,UNITDATA:r,UNITLAYERS:e,TURNVARS:t.TURNVARS,NEXTSPAWNID:s}},jump_basic_1:function(t){var n={marks:{},commands:{}},e={jumptargets:t.ARTIFACTS.jumptargets,winlineheads:{},winline:{}},r=t.UNITLAYERS,s=u({},t.TURNVARS),a=u({},t.UNITDATA),o=t.NEXTSPAWNID,p=t.MARKS;s.jumpedfrom=Object.keys(r.myknights)[0];var m=(r.units[s.jumpedfrom]||{}).id;m&&(a[m]=u(u({},a[m]),{},{pos:p.selectjumptarget}));var T="spawn"+o++;for(var A in a[T]={pos:s.jumpedfrom,id:T,group:"marks",owner:1},r={units:{},myunits:{},oppunits:{},knights:{},myknights:{},oppknights:{},marks:{}},a){var y,f=a[A],h=f.group,N=f.pos,w=f.owner,b=c(k[h][w]);try{for(b.s();!(y=b.n()).done;){r[y.value][N]=f}}catch(X){b.e(X)}finally{b.f()}}var S,R=r.myunits,j=c(i.I);try{for(j.s();!(S=j.n()).done;){for(var I=S.value,v=[],U=s.jumpedfrom;(U=g[U][I])&&R[U];)v.push(U);var _=v.length;_&&(e.winlineheads[v[_-1]]={dir:l[5][I]})}}catch(X){j.e(X)}finally{j.f()}var O=r.myunits;for(var E in e.winlineheads){var D=[],P="faux";for(g.faux[(e.winlineheads[E]||{}).dir]=E;(P=g[P][(e.winlineheads[E]||{}).dir])&&O[P];)D.push(P);for(var L=D.length,K=0;K<L;K++)P=D[K],L>3&&(e.winline[P]=d)}return 0!==Object.keys(e.winline).length?(n.endGame="win",n.endedBy="winline",n.endMarks=Object.keys(e.winline)):n.endTurn="startTurn_basic_2",{LINKS:n,MARKS:{},ARTIFACTS:e,TURN:t.TURN,UNITDATA:a,UNITLAYERS:r,TURNVARS:s,NEXTSPAWNID:o}},deploy_basic_2:function(t){var n={marks:{},commands:{}},e=t.UNITLAYERS,r=u({},t.UNITDATA),s=t.NEXTSPAWNID,a=t.MARKS,i="spawn"+s++;for(var o in r[i]={pos:a.selectdeploytarget,id:i,group:"knights",owner:2},e={units:{},myunits:{},oppunits:{},knights:{},myknights:{},oppknights:{},marks:{}},r){var p,m=r[o],g=m.group,l=m.pos,T=m.owner,A=c(f[g][T]);try{for(A.s();!(p=A.n()).done;){e[p.value][l]=m}}catch(d){A.e(d)}finally{A.f()}}return n.endTurn="startTurn_basic_1",{LINKS:n,MARKS:{},ARTIFACTS:t.ARTIFACTS,TURN:t.TURN,UNITDATA:r,UNITLAYERS:e,TURNVARS:t.TURNVARS,NEXTSPAWNID:s}},jump_basic_2:function(t){var n={marks:{},commands:{}},e={jumptargets:t.ARTIFACTS.jumptargets,winlineheads:{},winline:{}},r=t.UNITLAYERS,s=u({},t.TURNVARS),a=u({},t.UNITDATA),o=t.NEXTSPAWNID,p=t.MARKS;s.jumpedfrom=Object.keys(r.myknights)[0];var m=(r.units[s.jumpedfrom]||{}).id;m&&(a[m]=u(u({},a[m]),{},{pos:p.selectjumptarget}));var T="spawn"+o++;for(var A in a[T]={pos:s.jumpedfrom,id:T,group:"marks",owner:2},r={units:{},myunits:{},oppunits:{},knights:{},myknights:{},oppknights:{},marks:{}},a){var y,k=a[A],h=k.group,N=k.pos,w=k.owner,b=c(f[h][w]);try{for(b.s();!(y=b.n()).done;){r[y.value][N]=k}}catch(X){b.e(X)}finally{b.f()}}var S,R=r.myunits,j=c(i.I);try{for(j.s();!(S=j.n()).done;){for(var I=S.value,v=[],U=s.jumpedfrom;(U=g[U][I])&&R[U];)v.push(U);var _=v.length;_&&(e.winlineheads[v[_-1]]={dir:l[5][I]})}}catch(X){j.e(X)}finally{j.f()}var O=r.myunits;for(var E in e.winlineheads){var D=[],P="faux";for(g.faux[(e.winlineheads[E]||{}).dir]=E;(P=g[P][(e.winlineheads[E]||{}).dir])&&O[P];)D.push(P);for(var L=D.length,K=0;K<L;K++)P=D[K],L>3&&(e.winline[P]=d)}return 0!==Object.keys(e.winline).length?(n.endGame="win",n.endedBy="winline",n.endMarks=Object.keys(e.winline)):n.endTurn="startTurn_basic_1",{LINKS:n,MARKS:{},ARTIFACTS:e,TURN:t.TURN,UNITDATA:a,UNITLAYERS:r,TURNVARS:s,NEXTSPAWNID:o}}},instruction:{startTurn_basic_1:function(t){var n=t.UNITLAYERS;return 1===t.TURN?Object(i.g)({line:[{text:"Select where to deploy your"},{unittype:["knight",1]},Object(i.g)({line:[{text:"(as 1st player you cannot use the 4 central squares)"}]})]}):Object(i.g)({line:[{text:"Select where to move"},{unit:[y[(n.units[Object.keys(n.myknights)[0]]||{}).group],(n.units[Object.keys(n.myknights)[0]]||{}).owner,Object.keys(n.myknights)[0]]}]})},deploy_basic_1:function(){return Object(i.l)(1)},jump_basic_1:function(){return Object(i.l)(1)},selectdeploytarget_basic_1:function(t){var n=t.MARKS;return Object(i.g)({line:[{text:"Press"},{command:"deploy"},{text:"to spawn"},{unit:["knight",1,n.selectdeploytarget]}]})},selectjumptarget_basic_1:function(t){var n=t.MARKS,e=t.UNITLAYERS;return Object(i.g)({line:[{text:"Press"},{command:"jump"},{text:"to move"},{unit:[y[(e.units[Object.keys(e.myknights)[0]]||{}).group],(e.units[Object.keys(e.myknights)[0]]||{}).owner,Object.keys(e.myknights)[0]]},{text:"to"},{pos:n.selectjumptarget},{text:"and spawn"},{unit:["pawn",1,Object.keys(e.myknights)[0]]}]})},startTurn_basic_2:function(t){var n=t.UNITLAYERS;return 1===t.TURN?Object(i.g)({line:[{text:"Select where to deploy your"},{unittype:["knight",2]}]}):Object(i.g)({line:[{text:"Select where to move"},{unit:[y[(n.units[Object.keys(n.myknights)[0]]||{}).group],(n.units[Object.keys(n.myknights)[0]]||{}).owner,Object.keys(n.myknights)[0]]}]})},deploy_basic_2:function(){return Object(i.l)(2)},jump_basic_2:function(){return Object(i.l)(2)},selectdeploytarget_basic_2:function(t){var n=t.MARKS;return Object(i.g)({line:[{text:"Press"},{command:"deploy"},{text:"to spawn"},{unit:["knight",2,n.selectdeploytarget]}]})},selectjumptarget_basic_2:function(t){var n=t.MARKS,e=t.UNITLAYERS;return Object(i.g)({line:[{text:"Press"},{command:"jump"},{text:"to move"},{unit:[y[(e.units[Object.keys(e.myknights)[0]]||{}).group],(e.units[Object.keys(e.myknights)[0]]||{}).owner,Object.keys(e.myknights)[0]]},{text:"to"},{pos:n.selectjumptarget},{text:"and spawn"},{unit:["pawn",2,Object.keys(e.myknights)[0]]}]})}},variants:[{ruleset:"basic",board:"basic",setup:"basic",desc:"regular",code:"r",arr:{setup:{knights:{1:["d5"],2:["e4"]},marks:{1:["d4","e6","f4","f5"],2:["c5","d3","d6"]}},marks:["e4"],potentialMarks:["f6","g5","g3","f2","d2","c3"]}}],boards:{basic:{height:10,width:10,terrain:{center:["e5","e6","f5","f6"]},offset:"knight"}},setups:{basic:{}}},N=h,w=e("nIA/"),b=Object(w.a)(N),S=e("lhwo"),R=e("+O9a"),j=e("6XXs"),I=e("XyWG"),v={api:b,graphics:S.a,meta:R.a,demo:j.b,rules:I.a,imgsToPreload:["/images/games/campaign/campaign_book.jpg"]},U=e("krfZ"),_=e("Xity"),O=e("+zLY"),E=e("0IYK"),D=s.a.createElement,P=function(){var t=Object(E.c)(v.api);return D(_.d.Provider,{value:v},D(_.e.Provider,{value:t},D(U.a,null)))};P.domain="campaign",P.mainImage="/images/games/campaign/campaign_active.png",P.metaDesc="Play the abstract board game Campaign at Chessicals! Form non-straight jumps into a straight line!",P.metaTitle="Campaign by Chris Huntoon",P.title="Campaign",P.preloadImages=v.imgsToPreload,P.nav=Object(O.a)(v.meta);n.default=P},"t+/W":function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/campaign",function(){return e("ETu0")}])}},[["t+/W",1,0,2,3,4,5,6,7,70]]]);