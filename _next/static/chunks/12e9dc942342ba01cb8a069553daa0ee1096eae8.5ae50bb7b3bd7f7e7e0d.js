(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[4],{"/K/S":function(e,t,n){"use strict";var r=n("ERkP"),o=n.n(r);t.a=o.a.createContext(null)},"1lNe":function(e,t){e.exports=e=>t=>(n,r)=>{if(0!==n)return;let o,i,u=0;function a(t,n){2===t?(i=!0,o(t,n)):u<e&&o(t,n)}t(0,((t,n)=>{0===t?(o=n,r(0,a)):1===t?u<e&&(u++,r(t,n),u!==e||i||(i=!0,o(2),r(2))):r(t,n)}))}},"9EWH":function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function o(e){return!!e&&!!e[J]}function i(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&Function.toString.call(n)===K}(e)||Array.isArray(e)||!!e[B]||!!e.constructor[B]||p(e)||d(e))}function u(e,t,n){void 0===n&&(n=!1),0===a(e)?(n?Object.keys:$)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function a(e){var t=e[J];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:p(e)?2:d(e)?3:0}function c(e,t){return 2===a(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function s(e,t){return 2===a(e)?e.get(t):e[t]}function f(e,t,n){var r=a(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function l(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e){return G&&e instanceof Map}function d(e){return R&&e instanceof Set}function v(e){return e.o||e.t}function h(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=X(e);delete t[J];for(var n=$(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function m(e,t){return void 0===t&&(t=!1),b(e)||o(e)||!i(e)||(a(e)>1&&(e.set=e.add=e.clear=e.delete=g),Object.freeze(e),t&&u(e,(function(e,t){return m(t,!0)}),!0)),e}function g(){r(2)}function b(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function y(e){var t=Z[e];return t||r(18,e),t}function O(){return q}function w(e,t){t&&(y("Patches"),e.u=[],e.s=[],e.v=t)}function j(e){k(e),e.p.forEach(E),e.p=null}function k(e){e===q&&(q=e.l)}function S(e){return q={p:[],l:q,h:e,m:!0,_:0}}function E(e){var t=e[J];0===t.i||1===t.i?t.j():t.g=!0}function P(e,t){t._=t.p.length;var n=t.p[0],o=void 0!==e&&e!==n;return t.h.O||y("ES5").S(t,e,o),o?(n[J].P&&(j(t),r(4)),i(e)&&(e=x(t,e),t.l||_(t,e)),t.u&&y("Patches").M(n[J],e,t.u,t.s)):e=x(t,n,[]),j(t),t.u&&t.v(t.u,t.s),e!==U?e:void 0}function x(e,t,n){if(b(t))return t;var r=t[J];if(!r)return u(t,(function(o,i){return I(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return _(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=h(r.k):r.o;u(3===r.i?new Set(o):o,(function(t,i){return I(e,r,o,t,i,n)})),_(e,o,!1),n&&e.u&&y("Patches").R(r,n,e.u,e.s)}return r.o}function I(e,t,n,r,u,a){if(o(u)){var s=x(e,u,a&&t&&3!==t.i&&!c(t.D,r)?a.concat(r):void 0);if(f(n,r,s),!o(s))return;e.m=!1}if(i(u)&&!b(u)){if(!e.h.F&&e._<1)return;x(e,u),t&&t.A.l||_(e,u)}}function _(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&m(t,n)}function A(e,t){var n=e[J];return(n?v(n):e)[t]}function F(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function D(e){e.P||(e.P=!0,e.l&&D(e.l))}function T(e){e.o||(e.o=h(e.t))}function C(e,t,n){var r=p(t)?y("MapSet").N(t,n):d(t)?y("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:O(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=W;n&&(o=[r],i=H);var u=Proxy.revocable(o,i),a=u.revoke,c=u.proxy;return r.k=c,r.j=a,c}(t,n):y("ES5").J(t,n);return(n?n.A:O()).p.push(r),r}function M(e){return o(e)||r(22,e),function e(t){if(!i(t))return t;var n,r=t[J],o=a(t);if(r){if(!r.P&&(r.i<4||!y("ES5").K(r)))return r.t;r.I=!0,n=L(t,o),r.I=!1}else n=L(t,o);return u(n,(function(t,o){r&&s(r.t,t)===o||f(n,t,e(o))})),3===o?new Set(n):n}(e)}function L(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return h(e)}var N,q,z="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),G="undefined"!=typeof Map,R="undefined"!=typeof Set,V="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,U=z?Symbol.for("immer-nothing"):((N={})["immer-nothing"]=!0,N),B=z?Symbol.for("immer-draftable"):"__$immer_draftable",J=z?Symbol.for("immer-state"):"__$immer_state",K=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),$="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,X=Object.getOwnPropertyDescriptors||function(e){var t={};return $(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Z={},W={get:function(e,t){if(t===J)return e;var n=v(e);if(!c(n,t))return function(e,t,n){var r,o=F(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!i(r)?r:r===A(e.t,t)?(T(e),e.o[t]=C(e.A.h,r,e)):r},has:function(e,t){return t in v(e)},ownKeys:function(e){return Reflect.ownKeys(v(e))},set:function(e,t,n){var r=F(v(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=A(v(e),t),i=null==o?void 0:o[J];if(i&&i.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(l(n,o)&&(void 0!==n||c(e.t,t)))return!0;T(e),D(e)}return e.o[t]===n&&"number"!=typeof n||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==A(e.t,t)||t in e.t?(e.D[t]=!1,T(e),D(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=v(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},H={};u(W,(function(e,t){H[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),H.deleteProperty=function(e,t){return W.deleteProperty.call(this,e[0],t)},H.set=function(e,t,n){return W.set.call(this,e[0],t,n,e[0])};var Q=new(function(){function e(e){var t=this;this.O=V,this.F=!0,this.produce=function(e,n,o){if("function"==typeof e&&"function"!=typeof n){var u=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=u);for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var c;if("function"!=typeof n&&r(6),void 0!==o&&"function"!=typeof o&&r(7),i(e)){var s=S(t),f=C(t,e,void 0),l=!0;try{c=n(f),l=!1}finally{l?j(s):k(s)}return"undefined"!=typeof Promise&&c instanceof Promise?c.then((function(e){return w(s,o),P(e,s)}),(function(e){throw j(s),e})):(w(s,o),P(c,s))}if(!e||"object"!=typeof e){if((c=n(e))===U)return;return void 0===c&&(c=e),t.F&&m(c,!0),c}r(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))}:[t.produce(e,n,(function(e,t){r=e,o=t})),r,o];var r,o},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){i(e)||r(8),o(e)&&(e=M(e));var t=S(this),n=C(this,e,void 0);return n[J].C=!0,k(t),n},t.finishDraft=function(e,t){var n=(e&&e[J]).A;return w(n,t),P(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!V&&r(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var i=y("Patches").$;return o(e)?i(e,t):this.produce(e,(function(e){return i(e,t.slice(n+1))}))},e}()),Y=Q.produce;Q.produceWithPatches.bind(Q),Q.setAutoFreeze.bind(Q),Q.setUseProxies.bind(Q),Q.applyPatches.bind(Q),Q.createDraft.bind(Q),Q.finishDraft.bind(Q);t.a=Y},ARCc:function(e,t){e.exports={allqueenschess:"k",amazons:"Z",ambivalente:"d",aries:"p",ataxx:"v",atrium:"e",bombardment:"f",breakthrough:"K",campaign:"A",canthesardines:"kk",chameleon:"E",coffee:"l",connectfour:"T",crossings:"i",daggers:"P",dao:"it",descent:"c",desdemona:"g",duckpond:"I",duplo:"n",erdoslatino:"H",euclid:"X",gekitai:"x",gogol:"Y",gowiththefloe:"N",grensholm:"rG",hippolyta:"t",hobbes:"S",iago:"Gt",jesonmor:"je",jostle:"s",kachitknight:"G",kickrun:"r",kingsvalley:"O",krieg:"Q",madbishops:"M",momentum:"j",monkeyqueen:"sj",murusgallicus:"U",neutreeko:"xL",neutron:"L",orthokon:"u",outwit:"Pu",partisans:"RJ",razzledazzle:"Oo",sapos:"Lz",scatter:"D",serauqs:"C",shoveoff:"b",speedsoccolot:"W",squava:"q",stooges:"V",support:"vl",threemusketeers:"R",tobito:"J",towers:"Nu",towertwo:"oA",trafficlights:"F",transet:"z",tunneler:"a",tyrannos:"y",uglyduck:"o",uisge:"m",yonmoque:"B",zonesh:"h"}},CyBt:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("ODXe"),o=n("vo5M"),i=function(e,t){if(0===t){for(var n=Object.entries(o.a[t]),i=",".concat(e.toString(),","),u=0,a=n;u<a.length;u++){var c=Object(r.a)(a[u],2),s=c[0],f=c[1],l=new RegExp(",".concat(f.toString(),","),"g");i=(i=i.replace(l,",".concat(s,","))).replace(l,",".concat(s,","))}return i=(i=(i=(i=(i=i.replace(/([^0-9,]),([0-9])/g,"$1$2")).replace(/([0-9]),([^0-9,])/g,"$1$2")).replace(/([^0-9,]),([^0-9,])/g,"$1$2")).replace(/([^0-9,]),([^0-9,])/g,"$1$2")).slice(1,-1)}throw new Error("Unknown stringification method")}},DLyX:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}n.d(t,"a",(function(){return r}))},Dba3:function(e,t,n){"use strict";n.d(t,"a",(function(){return te})),n.d(t,"b",(function(){return ie})),n.d(t,"c",(function(){return oe}));var r=(e={})=>t=>{"function"===typeof e&&(e={next:e});let n,{next:r,error:o,complete:i}=e;t(0,((e,t)=>{0===e&&(n=t),1===e&&r&&r(t),1!==e&&0!==e||n(1),2===e&&!t&&i&&i(),2===e&&t&&o&&o(t)}));return()=>{n&&n(2)}};var o=e=>{let t,n=[];return function(r,o){if(0!==r)return;n.push(o);const i=(e,r)=>{if(2===e){const e=n.indexOf(o);e>-1&&n.splice(e,1),n.length||t(2)}else t(e,r)};1!==n.length?o(0,i):e(0,((e,r)=>{if(0===e)t=r,o(0,i);else for(let t of n.slice(0))t(e,r);2===e&&(n=[])}))}};var i=function(...e){return(t,n)=>{if(0!==t)return;const r=e.length,o=new Array(r);let i=0,u=0,a=!1;const c=(e,t)=>{2===e&&(a=!0);for(let n=0;n<r;n++)o[n]&&o[n](e,t)};for(let s=0;s<r;s++){if(a)return;e[s](0,((e,t)=>{if(0===e)o[s]=t,1===++i&&n(0,c);else if(2===e&&t){a=!0;for(let e=0;e<r;e++)e!==s&&o[e]&&o[e](2);n(2,t)}else 2===e?(o[s]=void 0,++u===r&&n(2)):n(e,t)}))}}},u=n("b2e3"),a=n.n(u),c=n("1lNe"),s=n.n(c),f=n("ERkP"),l=n.n(f),p=n("7nmT"),d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},v=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],u=0,a=i.length;u<a;u++,o++)r[o]=i[u];return r},h=function(e){return e},m=function(e){return{_tag:"Left",value:e}},g=function(e){return{_tag:"Right",value:e}},b={dimap:function(e,t,n){return function(r){return t(n(e(r)))}},first:function(e){return function(t){var n=t[0],r=t[1];return[e(n),r]}},right:function(e){return function(t){return"Left"===t._tag?t:g(e(t.value))}},wander:function(e){return function(t){return t.map(e)}}},y={empty:function(){},foldMap:function(e,t){for(var n=0;n<t.length;n++){var r=e(t[n]);if(void 0!=r)return r}}},O={empty:function(){return[]},foldMap:function(e,t){var n=[];return t.forEach((function(t){n=n.concat(e(t))})),n}},w=function(e){return{dimap:function(e,t,n){return function(t){return n(e(t))}},first:function(e){return function(t){var n=t[0];t[1];return e(n)}},right:function(t){return function(n){return"Left"===n._tag?e.empty():t(n.value)}},wander:function(t){return function(n){return e.foldMap(t,n)}}}},j={Equivalence:{Equivalence:"Equivalence",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Iso:{Equivalence:"Iso",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Lens:{Equivalence:"Lens",Iso:"Lens",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Prism:{Equivalence:"Prism",Iso:"Prism",Lens:"Prism",Prism:"Prism",Traversal:"Traversal",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Traversal:{Equivalence:"Traversal",Iso:"Traversal",Lens:"Traversal",Prism:"Traversal",Traversal:"Traversal",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:"Setter"},Getter:{Equivalence:"Getter",Iso:"Getter",Lens:"Getter",Prism:"AffineFold",Traversal:"Fold",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},AffineFold:{Equivalence:"AffineFold",Iso:"AffineFold",Lens:"AffineFold",Prism:"AffineFold",Traversal:"Fold",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},Fold:{Equivalence:"Fold",Iso:"Fold",Lens:"Fold",Prism:"Fold",Traversal:"Fold",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:void 0},Setter:{Equivalence:void 0,Iso:void 0,Lens:void 0,Prism:void 0,Traversal:void 0,Getter:void 0,AffineFold:void 0,Fold:void 0,Setter:void 0}},k=function(e,t){var n=t;return n._tag=e,n},S=function(e){return e._removable=!0,e};function E(e,t,n){switch(arguments.length){case 2:return(r=function(n,r){return e(n,t(n,r))})._tag=j[e._tag][t._tag],r._removable=t._removable||!1,r;default:var r,o=j[e._tag][t._tag];return(r=function(r,o){return e(r,t(r,n(r,o)))})._tag=j[o][n._tag],r._removable=n._removable||!1,r}}var P=k("Equivalence",(function(e,t){return t})),x=function(e,t){return k("Iso",(function(n,r){return n.dimap(e,t,r)}))},I=function(e,t){return k("Lens",(function(n,r){return n.dimap((function(t){return[e(t),t]}),t,n.first(r))}))},_=function(e,t){return k("Prism",(function(n,r){return n.dimap(e,(function(e){return n=h,r=t,"Left"===(o=e)._tag?n(o.value):r(o.value);var n,r,o}),n.right(r))}))},A=k("Traversal",(function(e,t){return e.dimap(h,h,e.wander(t))})),F=function(e,t,n){return e(b,t)(n)},D=function(e,t,n){return e(b,(function(){return t}))(n)},T=function(e,t){return e(w(O),(function(e){return[e]}))(t)},C=function(e){return I((function(t){return t[e]}),(function(t){var n,r=t[0],o=t[1];return d(d({},o),((n={})[e]=r,n))}))},M=function(e){return I((function(t){return t[e]}),(function(t){var n=t[0],r=t[1].slice();return r[e]=n,r}))},L=M(0),N=function(e){return _((function(t){return e(t)?g(t):m(t)}),h)},q=Symbol("__no_match__"),z=N((function(e){return e!==q})),G=Symbol("__remove_me__"),R=function(e){return S(E(I((function(t){return 0<=e&&e<t.length?t[e]:q}),(function(t){var n=t[0],r=t[1];if(n===q)return r;if(n===G)return"string"===typeof r?r.substring(0,e)+r.substring(e+1):v(r.slice(0,e),r.slice(e+1));if("string"===typeof r)return 0===e?n+r.substring(1):e===r.length?r.substring(0,e-1)+n:r.substring(0,e)+n+r.substring(e+1);var o=r.slice();return o[e]=n,o})),z))},V=_((function(e){return void 0===e?m(void 0):g(e)}),h),U=I((function(e){}),(function(e){var t=e[0],n=e[1];return void 0===t?n:v([t],n)})),B=I((function(e){}),(function(e){var t=e[0],n=e[1];return void 0===t?n:v(n,[t])})),J=E(x((function(e){return e.split("")}),(function(e){return e.join("")})),A),K=E(x((function(e){return e.split(/\b/)}),(function(e){return e.join("")})),A,N((function(e){return!/\s+/.test(e)}))),$=new(function(){function e(e){this._ref=e}return Object.defineProperty(e.prototype,"_tag",{get:function(){return this._ref._tag},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_removable",{get:function(){return this._ref._removable},enumerable:!1,configurable:!0}),e.prototype.compose=function(t){return new e(E(this._ref,t._ref))},e.prototype.iso=function(t,n){return new e(E(this._ref,x(t,n)))},e.prototype.prop=function(t){return new e(E(this._ref,C(t)))},e.prototype.path=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length&&(t=t[0].split(".")),new e(t.reduce((function(e,t){return E(e,C(t))}),this._ref))},e.prototype.pick=function(t){return new e(E(this._ref,function(e){return I((function(t){for(var n={},r=0,o=e;r<o.length;r++){var i=o[r];n[i]=t[i]}return n}),(function(t){for(var n=t[0],r=t[1],o=d({},r),i=0,u=e;i<u.length;i++)delete o[u[i]];return Object.assign(o,n)}))}(t)))},e.prototype.nth=function(t){return new e(E(this._ref,M(t)))},e.prototype.filter=function(t){return new e(E(this._ref,function(e){return E(I((function(t){var n=t.map((function(t,n){return e(t)?n:null})).filter((function(e){return null!=e}));return[n.map((function(e){return t[e]})),n]}),(function(e){for(var t=e[0],n=t[0],r=t[1],o=e[1],i=o.length,u=n.length,a=0,c=0,s=0,f=[];a<i;)r[c]===a?(++c,s<u&&(f.push(n[s]),++s)):f.push(o[a]),++a;for(;s<u;)f.push(n[s++]);return f})),L)}(t)))},e.prototype.valueOr=function(t){return new e(E(this._ref,function(e){return I((function(t){return void 0===t?e:t}),(function(e){var t=e[0];return e[1],t}))}(t)))},e.prototype.partsOf=function(t){var n="function"===typeof t?t($):t;return new e(E(this._ref,function(e){return E(I((function(t){var n=T(e,t);return[n,n.length]}),(function(t){var n=t[0],r=n[0],o=n[1],i=t[1];if(r.length!==o)throw new Error("cannot add/remove elements through partsOf");var u=0;return F(e,(function(){return r[u++]}),i)})),L)}(n._ref)))},e.prototype.optional=function(){return new e(E(this._ref,V))},e.prototype.guard_=function(){var e=this;return function(t){return e.guard(t)}},e.prototype.guard=function(t){return new e(E(this._ref,function(e){return _((function(t){return e(t)?g(t):m(t)}),h)}(t)))},e.prototype.at=function(t){return new e(E(this._ref,R(t)))},e.prototype.head=function(){return new e(E(this._ref,R(0)))},e.prototype.index=function(t){return new e(E(this._ref,R(t)))},e.prototype.find=function(t){return new e(E(this._ref,function(e){return S(E(I((function(t){var n=t.findIndex(e);return-1===n?[q,-1]:[t[n],n]}),(function(e){var t=e[0],n=t[0],r=t[1],o=e[1];if(n===q)return o;if(n===G)return v(o.slice(0,r),o.slice(r+1));var i=o.slice();return i[r]=n,i})),L,z))}(t)))},e.prototype.elems=function(){return new e(E(this._ref,A))},e.prototype.to=function(t){return new e(E(this._ref,function(e){return k("Getter",(function(t,n){return t.dimap(e,h,n)}))}(t)))},e.prototype.when=function(t){return new e(E(this._ref,N(t)))},e.prototype.chars=function(){return new e(E(this._ref,J))},e.prototype.words=function(){return new e(E(this._ref,K))},e.prototype.prependTo=function(){return new e(E(this._ref,U))},e.prototype.appendTo=function(){return new e(E(this._ref,B))},e}())(P);function X(e){return function(t){return function(e,t){return e(w({}),h)(t)}(e._ref,t)}}function Z(e){return function(t){return function(e,t){return e(w(y),h)(t)}(e._ref,t)}}function W(e){return function(t){return function(n){return F(e._ref,t,n)}}}function H(e){return function(t){return function(n){return D(e._ref,t,n)}}}var Q=function(e){return function(t,n){if(0===t){var r=n,o=e.subscribe((function(e){r(1,e)}));r(0,(function(e){2===e&&o()}))}}},Y=function(e,t){return a()(e,t)},ee=function(e){var t=[],n=e,r=function(e,r){if(0===e){var o=r;t.push(o),o(0,(function(e){if(2===e){var n=t.indexOf(r);-1<n&&t.splice(n,1)}}))}else{1===e&&(n=r);for(var i=t.slice(0),u=0,a=i.length;u<a;u++)-1<t.indexOf(i[u])&&i[u](1,r)}};return r.getValue=function(){return n},r};function te(e,t){if(e instanceof Function)return ne(e,t);var n=ee(e),i=n.getValue,u=o(n);return re((function(e){var t=r(e)(u);return function(){return t()}}),i,(function(e){var t=e instanceof Function?e(i()):e;Y(t,i())||n(1,t)}))}var ne=function(e,t){var n=[],u=[],a=function(){n.length=0,u.length=0;var t=e(function(e){return function(t){var n=t.getValue();return e({atom:t,value:n}),n}}((function(e){var t=e.atom,r=e.value;n.push(t),u.push(r)}))),r=Array.from(n).map(Q);return{computedValue:t,dependencyObserver:s()(1)(i.apply(void 0,r))}},c=a().computedValue,f=ee(c),l=function e(){var t,n=a(),o=n.computedValue,i=n.dependencyObserver;0!==h&&(null===(t=d)||void 0===t||t(),d=r(e)(i));Y(o,v())||f(1,o)},p=o(f),d=null,v=function(){return u.some((function(e,t){return!Y(e,n[t].getValue())}))&&l(),f.getValue()},h=0;return re((function(e){var t=r(e)(p);if(0===h){var n,o=a().dependencyObserver;null===(n=d)||void 0===n||n(),d=r(l)(o)}var i=!1;return h++,function(){if(!i){var e;if(i=!0,0===--h)null===(e=d)||void 0===e||e(),d=null;t()}}}),v,t)},re=function(e,t,n){return n?{subscribe:e,update:n,getValue:t}:{subscribe:e,getValue:t}};function oe(e){var t=l.a.useState(e.getValue),n=t[0],r=t[1];l.a.useEffect((function(){return r((function(t){var n=e.getValue();return Y(n,t)?t:n})),e.subscribe((function(e){return r((function(){return e}))}))}),[e]);var o=l.a.useMemo((function(){return e.update?function(t){Object(p.unstable_batchedUpdates)((function(){var n;null===(n=e.update)||void 0===n||n.call(e,t)}))}:null}),[e]);return[n].concat(o?[o]:[])}function ie(e,t){var n=t($);switch(n._tag){case"Iso":case"Equivalence":case"Lens":return te((function(t){return X(n)(t(e))}),(function(t){var r=(t instanceof Function?W(n)(t):H(n)(t))(e.getValue());e.update(r)}));case"Getter":return te((function(t){return X(n)(t(e))}));case"AffineFold":return te((function(t){return Z(n)(t(e))}));case"Prism":return te((function(t){return Z(n)(t(e))}),(function(t){var r=(t instanceof Function?W(n)(t):H(n)(t))(e.getValue());e.update(r)}))}}},ERKs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return document&&document.documentElement&&document.documentElement.clientHeight||window.innerHeight};t.default=r},EeF2:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n("ODXe"),o=n("ZZAP"),i=["X","H","G"],u=["F","L","M"],a=function(e){var t=Number(e[0]);if(0===t){var n,a,c=e[1];if(u.includes(c))n=!1,a=u.indexOf(c);else{if(!i.includes(c))throw new Error("Battlesave had unknown status code!");n=!0,a=i.indexOf(c)}var s=e[2],f=e.slice(3).split("|"),l=Object(r.a)(f,2),p=l[0],d=l[1];return{player:a,turn:parseInt(p,20),ended:n,path:Object(o.a)(d,t),variantCode:s}}throw new Error('Unknown parse method "'.concat(t,'"'))},c=n("CyBt"),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.path,r=e.player,o=e.turn,a=e.ended,s=e.variantCode;if(!s)throw console.error(e),new Error("Asked to stringify save with no variant code");if(0===t){var f=(a?i:u)[r],l=o.toString(20),p=Object(c.a)(n,t);return"".concat(t).concat(f).concat(s).concat(l,"|").concat(p)}throw new Error("Unknown stringification method")}},GZBS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=n("v9e2"))&&r.__esModule?r:{default:r}},KxaP:function(e,t,n){"use strict";var r=n("DLyX");function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=n("gS/f");function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n("Fuyq");var a=n("ERkP"),c=n.n(a),s=n("/K/S");function f(e,t){var n=Object.create(null);return e&&a.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(a.isValidElement)(e)?t(e):e}(e)})),n}function l(e,t,n){return null!=n[t]?n[t]:e.props[t]}function p(e,t,n){var r=f(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var u in e)u in t?i.length&&(o[u]=i,i=[]):i.push(u);var a={};for(var c in t){if(o[c])for(r=0;r<o[c].length;r++){var s=o[c][r];a[o[c][r]]=n(s)}a[c]=n(c)}for(r=0;r<i.length;r++)a[i[r]]=n(i[r]);return a}(t,r);return Object.keys(o).forEach((function(i){var u=o[i];if(Object(a.isValidElement)(u)){var c=i in t,s=i in r,f=t[i],p=Object(a.isValidElement)(f)&&!f.props.in;!s||c&&!p?s||!c||p?s&&c&&Object(a.isValidElement)(f)&&(o[i]=Object(a.cloneElement)(u,{onExited:n.bind(null,u),in:f.props.in,exit:l(u,"exit",e),enter:l(u,"enter",e)})):o[i]=Object(a.cloneElement)(u,{in:!1}):o[i]=Object(a.cloneElement)(u,{onExited:n.bind(null,u),in:!0,exit:l(u,"exit",e),enter:l(u,"enter",e)})}})),o}var d=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},v=function(e){function t(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(u(u(r)));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}Object(i.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,o=t.children,i=t.handleExited;return{children:t.firstRender?(n=e,r=i,f(n.children,(function(e){return Object(a.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:l(e,"appear",n),enter:l(e,"enter",n),exit:l(e,"exit",n)})}))):p(e,o,i),firstRender:!1}},n.handleExited=function(e,t){var n=f(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=o({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,o=Object(r.a)(e,["component","childFactory"]),i=this.state.contextValue,u=d(this.state.children).map(n);return delete o.appear,delete o.enter,delete o.exit,null===t?c.a.createElement(s.a.Provider,{value:i},u):c.a.createElement(s.a.Provider,{value:i},c.a.createElement(t,o,u))},t}(c.a.Component);v.propTypes={},v.defaultProps={component:"div",childFactory:function(e){return e}};t.a=v},RNcs:function(e,t){},Tm9P:function(e,t){e.exports={k:"allqueenschess",Z:"amazons",d:"ambivalente",p:"aries",v:"ataxx",e:"atrium",f:"bombardment",K:"breakthrough",A:"campaign",kk:"canthesardines",E:"chameleon",l:"coffee",T:"connectfour",i:"crossings",P:"daggers",it:"dao",c:"descent",g:"desdemona",I:"duckpond",n:"duplo",H:"erdoslatino",X:"euclid",x:"gekitai",Y:"gogol",N:"gowiththefloe",rG:"grensholm",t:"hippolyta",S:"hobbes",Gt:"iago",je:"jesonmor",s:"jostle",G:"kachitknight",r:"kickrun",O:"kingsvalley",Q:"krieg",M:"madbishops",j:"momentum",sj:"monkeyqueen",U:"murusgallicus",xL:"neutreeko",L:"neutron",u:"orthokon",Pu:"outwit",RJ:"partisans",Oo:"razzledazzle",Lz:"sapos",D:"scatter",C:"serauqs",b:"shoveoff",W:"speedsoccolot",q:"squava",V:"stooges",vl:"support",R:"threemusketeers",J:"tobito",Nu:"towers",oA:"towertwo",F:"trafficlights",z:"transet",a:"tunneler",y:"tyrannos",o:"uglyduck",m:"uisge",B:"yonmoque",h:"zonesh"}},V5Aj:function(e,t,n){"use strict";var r=n("DLyX"),o=n("gS/f"),i=(n("Fuyq"),n("ERkP")),u=n.n(i),a=n("7nmT"),c=n.n(a),s=!1,f=n("/K/S"),l="unmounted",p="exited",d="entering",v="entered",h="exiting",m=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o=p,r.appearStatus=d):o=v:o=t.unmountOnExit||t.mountOnEnter?l:p,r.state={status:o},r.nextCallback=null,r}Object(o.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:p}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==d&&n!==v&&(t=d):n!==d&&n!==v||(t=h)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=c.a.findDOMNode(this);t===d?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===p&&this.setState({status:l})},n.performEnter=function(e,t){var n=this,r=this.props.enter,o=this.context?this.context.isMounting:t,i=this.getTimeouts(),u=o?i.appear:i.enter;!t&&!r||s?this.safeSetState({status:v},(function(){n.props.onEntered(e)})):(this.props.onEnter(e,o),this.safeSetState({status:d},(function(){n.props.onEntering(e,o),n.onTransitionEnd(e,u,(function(){n.safeSetState({status:v},(function(){n.props.onEntered(e,o)}))}))})))},n.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n&&!s?(this.props.onExit(e),this.safeSetState({status:h},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:p},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:p},(function(){t.props.onExited(e)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,n=t.children,o=Object(r.a)(t,["children"]);if(delete o.in,delete o.mountOnEnter,delete o.unmountOnExit,delete o.appear,delete o.enter,delete o.exit,delete o.timeout,delete o.addEndListener,delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,"function"===typeof n)return u.a.createElement(f.a.Provider,{value:null},n(e,o));var i=u.a.Children.only(n);return u.a.createElement(f.a.Provider,{value:null},u.a.cloneElement(i,o))},t}(u.a.Component);function g(){}m.contextType=f.a,m.propTypes={},m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:g,onEntering:g,onEntered:g,onExit:g,onExiting:g,onExited:g},m.UNMOUNTED=0,m.EXITED=1,m.ENTERING=2,m.ENTERED=3,m.EXITING=4;t.a=m},VmKQ:function(e,t,n){"use strict";var r=n("oUFz");n.d(t,"localSessionActions",(function(){return r.a}));n("RNcs");var o=n("vgkU");n.d(t,"getLatestSessionIdForGame",(function(){return o.c})),n.d(t,"setLatestSessionInfo",(function(){return o.j})),n.d(t,"getLatestSessionInfo",(function(){return o.d})),n.d(t,"setLatestVisitedGameId",(function(){return o.k})),n.d(t,"getLatestVisitedGameId",(function(){return o.e}))},ZZAP:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("ODXe"),o=n("vo5M"),i=function(e,t){if(0===t){var n=e;n=(n=(n=(n=n.replace(/([0-9])([^0-9,])/g,"$1,$2")).replace(/([^0-9,])([0-9])/g,"$1,$2")).replace(/([^0-9,])([^0-9,])/g,"$1,$2")).replace(/([^0-9,])([^0-9,])/g,"$1,$2");for(var i=0,u=Object.entries(o.a[t]);i<u.length;i++){var a=Object(r.a)(u[i],2),c=a[0],s=a[1];n=n.replace(new RegExp(c,"g"),s.toString())}return JSON.parse("[".concat(n,"]"))}throw new Error("Unknown parse method")}},b2e3:function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!==o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!==o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!==o--;){var u=i[o];if(!e(t[u],n[u]))return!1}return!0}return t!==t&&n!==n}},faL6:function(e,t,n){"use strict";Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)})},"gS/f":function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return r}))},ghSc:function(e,t){e.exports={allqueenschess:"All Queens Chess",amazons:"Amazons",ambivalente:"Ambivalente",aries:"Aries",ataxx:"Ataxx",atrium:"Atrium",bombardment:"Bombardment",breakthrough:"Breakthrough",campaign:"Campaign",canthesardines:"Can the Sardines",chameleon:"Chameleon",coffee:"Coffee",connectfour:"Connect Four",crossings:"Crossings",daggers:"Daggers",dao:"Dao",descent:"Descent",desdemona:"Desdemona",duckpond:"Duck Pond",duplo:"Duplo",erdoslatino:"Erd\xf6s Latino",euclid:"Euclid",gekitai:"Gekitai",gogol:"Gogol",gowiththefloe:"Go with the floe",grensholm:"Grensholm",hippolyta:"Hippolyta",hobbes:"Hobbes",iago:"Iago",jesonmor:"Jeson Mor",jostle:"Jostle",kachitknight:"Kachit Knight",kickrun:"Kick & run",kingsvalley:"King's Valley",krieg:"Krieg",madbishops:"Mad Bishops",momentum:"Momentum",monkeyqueen:"Monkey Queen",murusgallicus:"Murus Gallicus",neutreeko:"Neutreeko",neutron:"Neutron",orthokon:"Orthokon",outwit:"Outwit",partisans:"Partisans",razzledazzle:"Razzle Dazzle",sapos:"Sapos",scatter:"Scatter",serauqs:"Serauqs",shoveoff:"Shove off",speedsoccolot:"Speed Soccolot",squava:"Squava",stooges:"3 stooges",support:"Support",threemusketeers:"Three Musketeers",tobito:"Tobito",towers:"Towers",towertwo:"Tower Two",trafficlights:"Traffic Lights",transet:"Transet",tunneler:"Tunneler",tyrannos:"Tyrannos",uglyduck:"Ugly Duck",uisge:"Uisge",yonmoque:"Yonmoque",zonesh:"Zonesh"}},h4uc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}}),n("faL6");var r,o=(r=n("lMdg"))&&r.__esModule?r:{default:r}},lMdg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n("ERkP")),o=u(n("GZBS")),i=u(n("ERKs"));function u(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?h(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function t(){var e,n;f(this,t);for(var r=arguments.length,u=new Array(r),a=0;a<r;a++)u[a]=arguments[a];return m(h(h(n=p(this,(e=d(t)).call.apply(e,[this].concat(u))))),"state",{style:{}}),m(h(h(n)),"updateStyle",(function(){var e=(0,o.default)(n.props.style,(0,i.default)());n.setState({style:e})})),n}var n,u,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(u=[{key:"componentDidMount",value:function(){this.updateStyle(),window.addEventListener("resize",this.updateStyle)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateStyle)}},{key:"render",value:function(){var e=this.props,t=e.as,n=void 0===t?"div":t,o=s(e,["as"]);return r.default.createElement(n,c({},o,{style:this.state.style}))}}])&&l(n.prototype,u),a&&l(n,a),t}(r.default.Component);t.default=g},oUFz:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n("Dba3"),o=n("ODXe"),i=n("ARCc"),u=n.n(i),a=n("ghSc"),c=n.n(a),s=n("EeF2"),f=n("z7ul"),l=/^([A-Za-z]*)/,p=n("9oII"),d=n("cDpP");var v=n("rePB");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=Object(r.a)({}),b={},y=n("9EWH"),O=n("vgkU"),w=function(e){var t=e.gameId;g.getValue()[t]||(g.update((function(n){return Object(y.a)(n,(function(n){n[t]||(n[t]=function(e){try{return{containers:Object(O.g)(e.gameId,!1).concat(Object(O.g)(e.gameId,!0)).map((function(t){return Object(O.h)(t)?{session:null,error:t.error,id:t.id}:e.variants.find((function(e){return e.code===t.variantCode}))?{session:t,error:null,id:t.id}:{session:t,error:new Error("Unknown variant code"),id:t.id}})).reduce((function(e,t){return e[t.id]=t,e}),{}),retrieved:!0}}catch(t){return{containers:{},retrieved:t}}}(e))}))})),b[t]=Object(r.a)((function(e){return e(g)[t]})))},j=function(e,t){w(t),e.session&&Object(O.l)(t.gameId,e.session),g.update((function(n){return Object(y.a)(n,(function(n){n[t.gameId].containers[e.id]=e}))}))},k={getSessionsForGame:function(e){return w(e),g.getValue()[e.gameId]},getGameSessionsAtom:function(e){return w(e),b[e.gameId]},subscribe:function(e){var t=e.listener,n=e.api;return w(n),b[n.gameId]||(b[n.gameId]=Object(r.b)(g,(function(e){return e.prop[n.gameId]}))),b[n.gameId].subscribe(t)},newSession:function(e){var t=e.api,n=e.code,r=t.newBattle(n),o=function(e,t,n){return{gameId:n,id:Object(p.c)(),created:Date.now(),variantCode:e.variant.code,type:"normal",player:1,turn:1,path:[],sprites:Object(d.c)({marks:[],units:e.state.board.units,iconMap:t}),participants:f.localParticipants}}(r,t.iconMap,t.gameId);return Object(O.i)(t.gameId,o.id),{battle:r,session:o}},importSession:function(e){var t=e.seed,n=e.api,r=function(e,t){var n=Object.entries(u.a).filter((function(e){return Object(o.a)(e,1)[0]===t})).map((function(e){return e[1]})).pop(),r=(e.match(l)||[""])[0];if(!r.length)throw Object(f.NewAlgolError)({errorId:"import-seed-missing-code",description:"This seed doesn't seem to contain a game identifier!",meta:{seed:e,gameId:t}});var i=Object.entries(u.a).filter((function(e){return Object(o.a)(e,2)[1]===r})).map((function(e){return e[0]})).pop();if(r!==n)throw Object(f.NewAlgolError)({errorId:"import-wrong-seed-code",description:"This seed is not valid for ".concat(c.a[t],". ").concat(i?"It might be for ".concat(c.a[i],"!"):"Unable to determine which game it is for."),meta:{seed:e,gameId:t}});try{return Object(s.a)(e.slice(r.length))}catch(a){throw Object(f.decorateError)({err:a,errorId:"import-save-parse-failed",description:"Failed to parse the import seed!",meta:{seed:e,gameId:t}})}}(t,n.gameId),i=n.fromSave(r),a=function(e,t,n){return m(m({gameId:n,id:Object(p.c)(),variantCode:e.variant.code,created:Date.now(),type:"imported",player:e.player,turn:e.turnNumber,path:e.path},e.gameEndedBy&&{endedBy:e.gameEndedBy}),{},{sprites:Object(d.c)({units:e.state.board.units,iconMap:t,marks:e.gameEndedBy?e.state.board.marks:[]}),participants:f.localParticipants})}(i,n.iconMap,n.gameId);return j({error:null,id:a.id,session:a},n),{session:a,battle:i}},forkBattleFrame:function(e){var t=e.battle,n=e.frame,r=e.api,o=t.history[n],i=r.fromFrame(o,t.variant.code),u=function(e,t,n){return{gameId:n,id:Object(p.c)(),variantCode:e.variant.code,created:Date.now(),type:"fork",player:e.player,turn:e.turnNumber,path:e.path,sprites:Object(d.c)({marks:[],units:e.state.board.units,iconMap:t}),participants:f.localParticipants}}(i,r.iconMap,r.gameId);return j({session:u,id:u.id,error:null},r),{session:u,battle:i}},deleteSession:function(e,t){Object(O.b)(t,e),g.update((function(n){return Object(y.a)(n,(function(n){delete n[t].containers[e]}))}))},deleteErrorSessions:function(e){g.update((function(t){return Object(y.a)(t,(function(t){for(var n=0,r=Object.keys(t[e].containers);n<r.length;n++){var o=r[n];t[e].containers[o].error&&(delete t[e].containers[o],Object(O.b)(e,o))}}))}))},deleteGameSessions:function(e){Object(O.a)(e),g.update((function(t){return Object(y.a)(t,(function(t){delete t[e]}))}))},updateSessionFromBattle:function(e){var t=e.battle,n=e.api,r=e.session,o=Object(d.Q)(t,r,n.iconMap);return j({session:o,error:null,id:r.id},n),o},saveSession:function(e){var t=e.session,n=e.api;j({session:t,id:t.id,error:null},n)},loadSession:function(e){var t=e.sessionId,n=e.api;w(n);try{var r=Object(O.f)(n.gameId,t);try{var o=Object(d.K)(r,n);return Object(O.i)(n.gameId,r.id),{battle:o,session:r,error:null}}catch(u){return g.update((function(e){return Object(y.a)(e,(function(e){e[n.gameId].containers[t].error=new Error("The moves in this session where not valid!")}))})),{battle:null,session:null,error:"The moves in this session where not valid!"}}}catch(u){var i;return null!==(i=g.getValue()[n.gameId])&&void 0!==i&&i.containers[t]?(g.update((function(e){return Object(y.a)(e,(function(e){e[n.gameId].containers[t]&&(e[n.gameId].containers[t].error=new Error("Failed to read this session"))}))})),{battle:null,session:null,error:"Failed to read this session"}):{battle:null,session:null,error:'Failed to find session with id "'.concat(t,'"')}}}}},v9e2:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.containsRvh=function(e){return/(\d+(\.\d*)?)rvh(?!\w)/.test(e)},t.default=void 0;var o=function(e,t){!function(e,t){if("object"!==r(e)&&void 0!==e||Array.isArray(e))throw Error("style (the first argument) must be an object or undefined");if("number"!==typeof t||t<0)throw Error("Second argument (windowHeight) must be a non-negative number")}(e,t);var n=void 0===e?{height:"100rvh"}:e,o={};return Object.keys(n).forEach((function(e){o[e]="string"===typeof n[e]?function(e,t){return e.replace(/(\d+(\.\d*)?)rvh(?!\w)/g,(function(e,n){return"".concat(t*parseFloat(n)/100,"px")}))}(n[e],t):n[e]})),o};t.default=o},vgkU:function(e,t,n){"use strict";n.d(t,"l",(function(){return R})),n.d(t,"h",(function(){return V})),n.d(t,"g",(function(){return U})),n.d(t,"b",(function(){return $})),n.d(t,"f",(function(){return X})),n.d(t,"i",(function(){return K})),n.d(t,"c",(function(){return J})),n.d(t,"a",(function(){return Z})),n.d(t,"e",(function(){return H})),n.d(t,"k",(function(){return Q})),n.d(t,"j",(function(){return ee})),n.d(t,"d",(function(){return te}));var r=n("rePB"),o=n("ODXe"),i=n("z7ul"),u=n("ZZAP"),a=n("CyBt"),c=function(e){return 1e5*parseInt(e,36)},s=function(e){return Math.floor(e/1e5).toString(36)},f={x:["icon","bishop",0,"none"],N:["icon","bishop",1,"none"],a:["icon","bishop",2,"none"],t:["icon","bishop",0,"mark"],g:["icon","bishop",1,"mark"],A:["icon","bishop",2,"mark"],D:["icon","bishop",0,"pot"],d:["icon","bishop",1,"pot"],l:["icon","bishop",2,"pot"],X:["icon","rook",0,"none"],B:["icon","rook",1,"none"],s:["icon","rook",2,"none"],e:["icon","rook",0,"mark"],W:["icon","rook",1,"mark"],4:["icon","rook",2,"mark"],H:["icon","rook",0,"pot"],G:["icon","rook",1,"pot"],1:["icon","rook",2,"pot"],c:["icon","pawn",0,"none"],5:["icon","pawn",1,"none"],U:["icon","pawn",2,"none"],y:["icon","pawn",0,"mark"],i:["icon","pawn",1,"mark"],z:["icon","pawn",2,"mark"],7:["icon","pawn",0,"pot"],M:["icon","pawn",1,"pot"],C:["icon","pawn",2,"pot"],f:["icon","knight",0,"none"],F:["icon","knight",1,"none"],u:["icon","knight",2,"none"],j:["icon","knight",0,"mark"],b:["icon","knight",1,"mark"],Z:["icon","knight",2,"mark"],R:["icon","knight",0,"pot"],w:["icon","knight",1,"pot"],Q:["icon","knight",2,"pot"],T:["icon","king",0,"none"],V:["icon","king",1,"none"],h:["icon","king",2,"none"],8:["icon","king",0,"mark"],J:["icon","king",1,"mark"],S:["icon","king",2,"mark"],3:["icon","king",0,"pot"],6:["icon","king",1,"pot"],0:["icon","king",2,"pot"],2:["icon","queen",0,"none"],r:["icon","queen",1,"none"],q:["icon","queen",2,"none"],Y:["icon","queen",0,"mark"],O:["icon","queen",1,"mark"],k:["icon","queen",2,"mark"],n:["icon","queen",0,"pot"],L:["icon","queen",1,"pot"],K:["icon","queen",2,"pot"],E:["mark"],I:["pot"],P:["row",2],m:["row",3],_:["row",4],"-":["row",5],".":["row",6],":":["row",7],9:["row",8],"!":["row",9],"=":["row",10],"\u20acl":["row",11],"\u20acy":["row",12],"?":["skip",1],o:["skip",2],p:["skip",3],v:["skip",4],"(":["skip",5],"+":["skip",6],"[":["skip",7],";":["skip",8],"*":["skip",9],"\u20acg":["skip",10],"\u20acX":["skip",11],")":["repeat",2],"]":["repeat",3],"<":["repeat",4],">":["repeat",5],",":["repeat",6],"&":["repeat",7],"'":["repeat",8],"}":["repeat",9],"\u20acf":["repeat",10],"\u20ac8":["repeat",11]},l=n("cDpP");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return u=e.done,e},e:function(e){a=!0,i=e},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e){var t,n=1,r=1,o=[],i=null,u=v(e.replace(/([^\u20ac])/g,"$1#").split("#").slice(0,-1).map((function(e){return f[e]})));try{for(u.s();!(t=u.n()).done;){var a=t.value,c=Object(l.k)({x:n,y:r});switch(a[0]){case"skip":n+=a[1];break;case"row":r=a[1],n=1;break;case"pot":case"mark":case"icon":o.push(g(a,c)),n+=1;break;case"repeat":for(var s=a[1];s;){if(!i)throw new Error("Repeat code but no previous entity!");o.push(g(i,c)),n+=1,c=Object(l.k)({x:n,y:r}),s--}}i=a}}catch(p){u.e(p)}finally{u.f()}return o},g=function(e,t){switch(e[0]){case"icon":return d(d({pos:t},"none"!==e[3]&&{mark:e[3]}),{},{unit:{icon:e[1],owner:e[2]}});case"mark":return{mark:"mark",pos:t};case"pot":return{mark:"pot",pos:t};default:throw new Error("Code shouldnt be entity: "+e.toString())}};function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=Object.entries(f).map((function(e){var t=Object(o.a)(e,2),n=t[0];return[t[1].toString(),n]})).reduce((function(e,t){var n=Object(o.a)(t,2),i=n[0],u=n[1];return y(y({},e),{},Object(r.a)({},i,u))}),{}),w=function(e){var t=O[e.toString()];if(!t)throw new Error("Failed to convert entity code to proper character");return t},j=n("LcPa");function k(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return u=e.done,e},e:function(e){a=!0,i=e},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=function(e){var t,n=1,r=1,o="",i=k(Object(j.a)(e));try{for(i.s();!(t=i.n()).done;){var u=t.value,a=Object(l.E)(u.pos);a.y!==r&&(o+=w(["row",a.y]),r=a.y,n=1),a.x!==n&&(o+=w(["skip",a.x-n]),n+=a.x-n),u.unit?(o+=w(["icon",u.unit.icon,u.unit.owner,u.mark||"none"]),n+=1):(o+=w("mark"===u.mark?["mark"]:["pot"]),n+=1)}}catch(c){i.e(c)}finally{i.f()}return o.replace(/(.)\1+/g,(function(e){var t=e.length;return t>2?e[0]+w(["repeat",t-1]):e}))},P={x:[0,"fork"],p:[0,"imported"],t:[0,"normal"],f:[1,"fork"],j:[1,"imported"],I:[1,"normal"],X:[2,"fork"],n:[2,"imported"],a:[2,"normal"]},x=n("Tm9P"),I=n.n(x);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=function(e,t){if(0===Number(e[0])){var n=e.split("\n"),r=Object(o.a)(n,7),a=r[0],s=r[1],f=r[2],l=r[3],p=r[4],d=r[5],v=r[6],h=P[a[1]];return A(A(A({id:t,gameId:I.a[d],player:h[0],variantCode:a[2],turn:parseInt(a.slice(3),36),type:h[1],path:Object(u.a)(s,0),sprites:m(f),created:c(l)},p&&{updated:c(p)}),v&&{endedBy:v}),{},{participants:i.localParticipants})}throw new Error("Unknown parse method")},D=n("ARCc"),T=n.n(D),C=function(e,t){if(0===t)return["0"+(n=e.player,r=e.type,Object.entries(P).filter((function(e){var t=Object(o.a)(e,2),i=Object(o.a)(t[1],2),u=i[0],a=i[1];return n===u&&r===a})).map((function(e){return Object(o.a)(e,1)[0]})).pop())+e.variantCode+e.turn.toString(36),Object(a.a)(e.path,0),E(e.sprites),s(e.created),e.updated?s(e.updated):"",T.a[e.gameId],e.endedBy||""].join("\n");var n,r;throw new Error("Unknown stringification method")},M="Q_",L="l",N="D",q="L",z="s",G=function(e,t){return"".concat(M).concat(z).concat(T.a[e]).concat(t?"g":"")},R=function(e,t){var n=G(e),r=JSON.parse(localStorage.getItem(n)||"{}"),o=G(e,!0);if(t.endedBy){delete r[t.id],localStorage.setItem(n,JSON.stringify(r));var i=JSON.parse(localStorage.getItem(o)||"{}");i[t.id]=C(t,0),localStorage.setItem(o,JSON.stringify(i))}else r[t.id]=C(t,0),localStorage.setItem(n,JSON.stringify(r))},V=function(e){return Boolean(e.error)},U=function(e,t){var n=G(e,t),r=JSON.parse(localStorage.getItem(n)||"{}");return Object.entries(r).map((function(e){var t=Object(o.a)(e,2),n=t[0],r=t[1];try{return F(r,n)}catch(i){return{error:i,id:n,str:r}}}))},B=function(e){return"".concat(M).concat(L).concat(T.a[e])},J=function(e){var t=B(e);return"undefined"===typeof localStorage?null:localStorage.getItem(t)},K=function(e,t){var n=B(e);null===t?localStorage.removeItem(n):localStorage.setItem(n,t)},$=function(e,t){var n=G(e),r=G(e,!0),o=JSON.parse(localStorage.getItem(n)||"{}"),i=JSON.parse(localStorage.getItem(r)||"{}");delete o[t],delete i[t],localStorage.setItem(n,JSON.stringify(o)),localStorage.setItem(r,JSON.stringify(i)),J(e)===t&&K(e,null)},X=function(e,t){for(var n=0,r=[!1,!0];n<r.length;n++){var o=G(e,r[n]),i=JSON.parse(localStorage.getItem(o)||"{}");if(i[t])return F(i[t],t)}return null},Z=function(e){var t=G(e),n=G(e,!0);localStorage.removeItem(t),localStorage.removeItem(n),K(e,null)},W=function(){return"".concat(M).concat(q)},H=function(){var e=W();return"undefined"===typeof localStorage?null:localStorage.getItem(e)},Q=function(e){var t=W();e?localStorage.setItem(t,e):localStorage.removeItem(t)},Y=function(){return"".concat(M).concat(N)},ee=function(e,t){var n=Y();localStorage.setItem(n,"".concat(e,"\n").concat(t))},te=function(){var e=Y();if("undefined"===typeof localStorage)return{gameId:null,sessionId:null};var t=(localStorage.getItem(e)||"").split("\n"),n=Object(o.a)(t,2),r=n[0],i=n[1];return r&&i?{gameId:r,sessionId:i}:{gameId:null,sessionId:null}}},vo5M:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={0:{a:[0,0],b:[0,1],c:[0,2],d:[0,3],e:[0,4],z:[0,5],R:[0,6],":":[0,7],f:[1,0],g:[1,1],h:[1,2],i:[1,3],j:[1,4],A:[1,5],S:[1,6],";":[1,7],k:[2,0],l:[2,1],m:[2,2],n:[2,3],o:[2,4],B:[2,5],T:[2,6],"<":[2,7],p:[3,0],q:[3,1],r:[3,2],s:[3,3],t:[3,4],C:[3,5],U:[3,6],"=":[3,7],u:[4,0],v:[4,1],w:[4,2],x:[4,3],y:[4,4],D:[4,5],V:[4,6],">":[4,7],E:[5,0],F:[5,1],G:[5,2],H:[5,3],I:[5,4],J:[5,5],W:[5,6],_:[5,7],K:[6,0],L:[6,1],M:[6,2],N:[6,3],O:[6,4],P:[6,5],Q:[6,6],"@":[6,7],"!":[7,0],"#":[7,1],"~":[7,2],"%":[7,3],"&":[7,4],"'":[7,5],'"':[7,6],"`":[7,7],X:[10],Y:[11],Z:[12]}}}}]);