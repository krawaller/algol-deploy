_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[150],{"5lMw":function(e,t,n){"use strict";n.r(t),n.d(t,"Game",(function(){return P}));var r=n("ERkP"),a=n.n(r),i=n("rePB"),o=n("cDpP");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d,l,f,m={},T={markers:[["units"],["units","myunits"],["units","oppunits"]]},b={markers:[["units"],["units","oppunits"],["units","myunits"]]},h={winline:{},loseline:{},death:{},push:{}},A={gameId:"gekitai",commands:{drop:{}},iconMap:{markers:"pawn"},setBoard:function(e){Object(o.P)(e,1),Object(o.P)(e,2),f={height:e.height,width:e.width},l=Object(o.e)(f),d=Object(o.d)(e),Object(o.A)(e)},newBattle:function(e,t){var n=Object(o.M)(e),r={units:{},myunits:{},oppunits:{}};for(var a in n){var i,s=n[a],u=s.group,p=s.pos,d=s.owner,l=c(b[u][d]);try{for(l.s();!(i=l.n()).done;){r[i.value][p]=s}}catch(f){l.e(f)}finally{l.f()}}return A.action["startTurn_".concat(t,"_1")]({NEXTSPAWNID:1,TURN:0,UNITDATA:n,UNITLAYERS:r})},action:{startTurn_basic_1:function(e){for(var t=e.UNITLAYERS,n={units:t.units,myunits:t.oppunits,oppunits:t.myunits},r={marks:{},commands:{}},a=0,i=Object.keys(Object.keys(l.board).filter((function(e){return!n.units.hasOwnProperty(e)})).reduce((function(e,t){return e[t]=m,e}),{}));a<i.length;a++){var o=i[a];r.marks[o]="selectdroptarget_basic_1"}return{UNITDATA:e.UNITDATA,LINKS:r,UNITLAYERS:n,ARTIFACTS:h,MARKS:{},TURN:e.TURN+1,NEXTSPAWNID:e.NEXTSPAWNID}},startTurn_basic_2:function(e){for(var t=e.UNITLAYERS,n={units:t.units,myunits:t.oppunits,oppunits:t.myunits},r={marks:{},commands:{}},a=0,i=Object.keys(Object.keys(l.board).filter((function(e){return!n.units.hasOwnProperty(e)})).reduce((function(e,t){return e[t]=m,e}),{}));a<i.length;a++){var o=i[a];r.marks[o]="selectdroptarget_basic_2"}return{UNITDATA:e.UNITDATA,LINKS:r,UNITLAYERS:n,ARTIFACTS:h,MARKS:{},TURN:e.TURN,NEXTSPAWNID:e.NEXTSPAWNID}},selectdroptarget_basic_1:function(e,t){var n,r={death:{},push:{}},a={marks:{},commands:{}},i={selectdroptarget:t},s=e.UNITLAYERS,u=s.units,p=c(o.J);try{for(p.s();!(n=p.n()).done;){for(var l=n.value,f=[],m="",T=i.selectdroptarget,b=0;!(m=(T=d[T][l])?u[T]?1===b?"reachedmax":null:"nomoresteps":"outofbounds");)f.push(T),b++;var h=f.length;h&&("outofbounds"===m&&(r.death[f[h-1]]={pushdir:l}),"nomoresteps"===m&&(r.push[f[h-1]]={pushdir:l}))}}catch(A){p.e(A)}finally{p.f()}return a.commands.drop="drop_basic_1",{LINKS:a,ARTIFACTS:r,UNITLAYERS:s,UNITDATA:e.UNITDATA,TURN:e.TURN,MARKS:i,NEXTSPAWNID:e.NEXTSPAWNID}},selectdroptarget_basic_2:function(e,t){var n,r={death:{},push:{}},a={marks:{},commands:{}},i={selectdroptarget:t},s=e.UNITLAYERS,u=s.units,p=c(o.J);try{for(p.s();!(n=p.n()).done;){for(var l=n.value,f=[],m="",T=i.selectdroptarget,b=0;!(m=(T=d[T][l])?u[T]?1===b?"reachedmax":null:"nomoresteps":"outofbounds");)f.push(T),b++;var h=f.length;h&&("outofbounds"===m&&(r.death[f[h-1]]={pushdir:l}),"nomoresteps"===m&&(r.push[f[h-1]]={pushdir:l}))}}catch(A){p.e(A)}finally{p.f()}return a.commands.drop="drop_basic_2",{LINKS:a,ARTIFACTS:r,UNITLAYERS:s,UNITDATA:e.UNITDATA,TURN:e.TURN,MARKS:i,NEXTSPAWNID:e.NEXTSPAWNID}},drop_basic_1:function(e){var t={marks:{},commands:{}},n={enterFrom:{},exitTo:{},ghosts:[]},r={death:e.ARTIFACTS.death,push:e.ARTIFACTS.push,winline:{},loseline:{}},a=e.UNITLAYERS,i=u({},e.UNITDATA),s=e.NEXTSPAWNID,p=e.MARKS,l=r.death;for(var f in l)n.exitTo[f]=Object(o.C)(f,(l[f]||{}).pushdir,1,0);var b="spawn"+s++;for(var h in i[b]={pos:p.selectdroptarget,id:b,group:"markers",owner:1},r.death)delete i[(a.units[h]||{}).id];var A=r.push;for(var y in A){var g=y,w=(a.units[g]||{}).id;w&&(i[w]=u(u({},i[w]),{},{pos:d[g][(A[y]||{}).pushdir]}))}for(var N in a={units:{},myunits:{},oppunits:{}},i){var v,I=i[N],S=I.group,k=I.pos,O=I.owner,_=c(T[S][O]);try{for(_.s();!(v=_.n()).done;){a[v.value][k]=I}}catch(K){_.e(K)}finally{_.f()}}for(var j in a.units){var R,U=a.myunits[j]?a.myunits:a.oppunits,P=c(o.J);try{for(P.s();!(R=P.n()).done;){var E=R.value,D=[],L="faux";for(d.faux[E]=j;(L=d[L][E])&&U[L];)D.push(L);for(var x=D.length,M=0;M<x;M++)L=D[M],x>2&&(r[a.myunits[j]?"winline":"loseline"][L]=m)}}catch(K){P.e(K)}finally{P.f()}}return 0!==Object.keys(r.winline).length?(t.endGame="win",t.endedBy="winline",t.endMarks=Object.keys(r.winline)):8===Object.keys(a.myunits).length?(t.endGame="win",t.endedBy="allout"):0!==Object.keys(r.loseline).length?(t.endGame="lose",t.endedBy="suicide",t.endMarks=Object.keys(r.loseline)):t.endTurn="startTurn_basic_2",{LINKS:t,MARKS:{},ARTIFACTS:r,TURN:e.TURN,UNITDATA:i,UNITLAYERS:a,NEXTSPAWNID:s,anim:n}},drop_basic_2:function(e){var t={marks:{},commands:{}},n={enterFrom:{},exitTo:{},ghosts:[]},r={death:e.ARTIFACTS.death,push:e.ARTIFACTS.push,winline:{},loseline:{}},a=e.UNITLAYERS,i=u({},e.UNITDATA),s=e.NEXTSPAWNID,p=e.MARKS,l=r.death;for(var f in l)n.exitTo[f]=Object(o.C)(f,(l[f]||{}).pushdir,1,0);var T="spawn"+s++;for(var h in i[T]={pos:p.selectdroptarget,id:T,group:"markers",owner:2},r.death)delete i[(a.units[h]||{}).id];var A=r.push;for(var y in A){var g=y,w=(a.units[g]||{}).id;w&&(i[w]=u(u({},i[w]),{},{pos:d[g][(A[y]||{}).pushdir]}))}for(var N in a={units:{},myunits:{},oppunits:{}},i){var v,I=i[N],S=I.group,k=I.pos,O=I.owner,_=c(b[S][O]);try{for(_.s();!(v=_.n()).done;){a[v.value][k]=I}}catch(K){_.e(K)}finally{_.f()}}for(var j in a.units){var R,U=a.myunits[j]?a.myunits:a.oppunits,P=c(o.J);try{for(P.s();!(R=P.n()).done;){var E=R.value,D=[],L="faux";for(d.faux[E]=j;(L=d[L][E])&&U[L];)D.push(L);for(var x=D.length,M=0;M<x;M++)L=D[M],x>2&&(r[a.myunits[j]?"winline":"loseline"][L]=m)}}catch(K){P.e(K)}finally{P.f()}}return 0!==Object.keys(r.winline).length?(t.endGame="win",t.endedBy="winline",t.endMarks=Object.keys(r.winline)):8===Object.keys(a.myunits).length?(t.endGame="win",t.endedBy="allout"):0!==Object.keys(r.loseline).length?(t.endGame="lose",t.endedBy="suicide",t.endMarks=Object.keys(r.loseline)):t.endTurn="startTurn_basic_1",{LINKS:t,MARKS:{},ARTIFACTS:r,TURN:e.TURN,UNITDATA:i,UNITLAYERS:a,NEXTSPAWNID:s,anim:n}}},instruction:{startTurn_basic_1:function(e){return Object(o.g)({line:[{text:"Select where to drop a unit"}]})},drop_basic_1:function(){return Object(o.l)(1)},selectdroptarget_basic_1:function(e){var t=e.MARKS;return Object(o.g)({line:[{text:"Press"},{command:"drop"},{text:"to drop a"},{unittype:["pawn",1]},{text:"at"},{pos:t.selectdroptarget}]})},startTurn_basic_2:function(e){return Object(o.g)({line:[{text:"Select where to drop a unit"}]})},drop_basic_2:function(){return Object(o.l)(2)},selectdroptarget_basic_2:function(e){var t=e.MARKS;return Object(o.g)({line:[{text:"Press"},{command:"drop"},{text:"to drop a"},{unittype:["pawn",2]},{text:"at"},{pos:t.selectdroptarget}]})}},variants:[{ruleset:"basic",board:"basic",setup:"basic",desc:"regular",code:"u",arr:{marks:[],potentialMarks:["b1","c1","d1","e1","f1","b2","c2","e2","f2","a3","b3","d3","e3","f3","a4","b4","c4","d4","f4","a5","b5","d5","e5","a6","b6","c6","d6","e6","f6"],setup:{markers:{1:["a1","d2","c3"],2:["a2","e4","c5","f5"]}}}}],boards:{basic:{height:6,width:6,terrain:{}}},setups:{basic:{}}},y=A,g=n("nIA/"),w=Object(g.a)(y),N=n("rvDu"),v=n("BrL5"),I=n("KgH3"),S=n("9iC5"),k={api:w,graphics:N.a,meta:v.a,demo:I.a,rules:S.a,imgsToPreload:["/images/games/gekitai/granite.jpg"]},O=n("krfZ"),_=n("Xity"),j=n("+zLY"),R=n("0IYK"),U=a.a.createElement,P=function(){var e=Object(R.c)(k.api);return U(_.d.Provider,{value:k},U(_.e.Provider,{value:e},U(O.a,null)))};P.domain="gekitai",P.mainImage="/images/games/gekitai/gekitai_active.png",P.metaDesc="Play the abstract board game Gekitai at Chessicals! Push your opponent as you race for dual win conditions!",P.metaTitle="Gekitai by Scott Brady",P.title="Gekitai",P.preloadImages=k.imgsToPreload,P.nav=Object(j.a)(k.meta);t.default=P},KgH3:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var r={initial:{},patches:[{spawn1:[{pos:"a1",id:"spawn1",group:"markers",owner:1,icon:"pawn"}]},{spawn2:[{pos:"c1",id:"spawn2",group:"markers",owner:2,icon:"pawn"}]},{spawn1:[{pos:"a1",id:"spawn1",group:"markers",owner:1,icon:"pawn"},0,0],spawn2:[{pos:"c1",id:"spawn2",group:"markers",owner:2,icon:"pawn"},0,0],spawn3:[{pos:"b2",id:"spawn3",group:"markers",owner:1,icon:"pawn"}]}],anims:{3:{exitTo:{c1:"d0",a1:"Z0"}}}};t.a=r},"mWV/":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/gekitai",function(){return n("5lMw")}])}},[["mWV/",1,0,2,3,4,5,6,7,63]]]);