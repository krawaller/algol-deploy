_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[249],{J6Jl:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var s={initial:{unit1:{pos:"b2",x:2,y:2,id:"unit1",group:"soldiers",owner:1},unit2:{pos:"b5",x:2,y:5,id:"unit2",group:"soldiers",owner:1},unit3:{pos:"e2",x:5,y:2,id:"unit3",group:"soldiers",owner:2},unit4:{pos:"e5",x:5,y:5,id:"unit4",group:"soldiers",owner:2}},patches:[{unit1:{pos:["b2","d2"]}},{spawn1:[{pos:"b2",id:"spawn1",group:"soldiers",owner:1}]},{unit4:{pos:["e5","d3"]}},{unit2:{pos:["b5","e5"]}},{unit1:[{pos:"d2",x:2,y:2,id:"unit1",group:"soldiers",owner:1},0,0],unit4:{pos:["d3","c2"]}},{unit3:{pos:["e2","e3"]}},{spawn2:[{pos:"b5",id:"spawn2",group:"soldiers",owner:1}]},{spawn1:{pos:["b2","b3"]}},{spawn3:[{pos:"b2",id:"spawn3",group:"soldiers",owner:1}]},{spawn4:[{pos:"e2",id:"spawn4",group:"soldiers",owner:2}]},{unit3:{pos:["e3","e4"]}},{unit4:{pos:["c2","d2"]}},{spawn2:{pos:["b5","d5"]}},{spawn5:[{pos:"b5",id:"spawn5",group:"soldiers",owner:1}]},{unit4:{pos:["d2","d3"]}},{spawn4:{pos:["e2","e3"]}},{spawn6:[{pos:"e2",id:"spawn6",group:"soldiers",owner:2}]},{spawn3:{pos:["b2","d2"]}},{unit4:[{pos:"d3",x:5,y:5,id:"unit4",group:"soldiers",owner:2},0,0],spawn2:{pos:["d5","d4"]}},{spawn6:{pos:["e2","d1"]}},{spawn3:[{pos:"d2",id:"spawn3",group:"soldiers",owner:1},0,0],spawn4:{pos:["e3","d3"]}},{spawn1:{pos:["b3","d2"]},spawn4:[{pos:"d3",id:"spawn4",group:"soldiers",owner:2},0,0]},{unit3:{pos:["e4","d3"]},spawn1:[{pos:"d2",id:"spawn1",group:"soldiers",owner:1},0,0]},{spawn7:[{pos:"e2",id:"spawn7",group:"soldiers",owner:2}]},{spawn8:[{pos:"b2",id:"spawn8",group:"soldiers",owner:1}]},{unit3:[{pos:"d3",x:5,y:2,id:"unit3",group:"soldiers",owner:2},0,0],spawn8:{pos:["b2","d2"]}},{spawn6:{pos:["d1","c2"]},spawn8:[{pos:"d2",id:"spawn8",group:"soldiers",owner:1},0,0]},{spawn6:{pos:["c2","b2"]}},{spawn5:{pos:["b5","c4"]}},{spawn9:[{pos:"b5",id:"spawn9",group:"soldiers",owner:1}]},{spawn7:{pos:["e2","e3"]}},{spawn10:[{pos:"e2",id:"spawn10",group:"soldiers",owner:2}]},{spawn10:{pos:["e2","d2"]}},{spawn2:{pos:["d4","f4"]}},{spawn5:{pos:["c4","d4"]}},{spawn11:[{pos:"e2",id:"spawn11",group:"soldiers",owner:2}]},{spawn10:{pos:["d2","d3"]}},{spawn11:{pos:["e2","f2"]}},{unit2:{pos:["e5","e4"]}},{spawn5:{pos:["d4","e5"]}},{spawn11:{pos:["f2","f3"]}},{spawn12:[{pos:"e2",id:"spawn12",group:"soldiers",owner:2}]},{spawn12:{pos:["e2","d2"]}},{spawn9:{pos:["b5","b4"]}},{spawn13:[{pos:"b5",id:"spawn13",group:"soldiers",owner:1}]},{spawn6:{pos:["b2","b3"]}},{spawn12:{pos:["d2","b2"]}},{spawn9:{pos:["b4","a3"]}},{spawn13:{pos:["b5","b4"]}},{spawn6:{pos:["b3","c4"]}},{spawn10:{pos:["d3","d4"]}},{spawn9:{pos:["a3","c3"]}},{spawn13:{pos:["b4","b3"]}},{spawn9:[{pos:"c3",id:"spawn9",group:"soldiers",owner:1},0,0],spawn12:{pos:["b2","c2"]}},{spawn12:{pos:["c2","b2"]}},{spawn6:{pos:["c4","b4"]},spawn13:[{pos:"b3",id:"spawn13",group:"soldiers",owner:1},0,0]},{spawn14:[{pos:"b5",id:"spawn14",group:"soldiers",owner:1}]},{spawn6:{pos:["b4","a5"]}},{spawn14:{pos:["b5","c5"]}},{spawn15:[{pos:"b5",id:"spawn15",group:"soldiers",owner:1}]},{spawn16:[{pos:"e2",id:"spawn16",group:"soldiers",owner:2}]},{spawn16:{pos:["e2","d3"]}},{spawn10:[{pos:"d4",id:"spawn10",group:"soldiers",owner:2},0,0],spawn15:{pos:["b5","c4"]}},{spawn17:[{pos:"b5",id:"spawn17",group:"soldiers",owner:1}]},{spawn6:{pos:["a5","b4"]}},{spawn15:[{pos:"c4",id:"spawn15",group:"soldiers",owner:1},0,0],spawn16:{pos:["d3","d4"]}},{spawn14:{pos:["c5","c4"]},spawn16:[{pos:"d4",id:"spawn16",group:"soldiers",owner:2},0,0]},{spawn6:[{pos:"b4",id:"spawn6",group:"soldiers",owner:2},0,0],spawn17:{pos:["b5","a4"]}},{spawn18:[{pos:"e2",id:"spawn18",group:"soldiers",owner:2}]},{spawn18:{pos:["e2","d2"]}},{spawn17:{pos:["a4","a2"]}},{spawn18:{pos:["d2","c3"]}},{spawn19:[{pos:"b5",id:"spawn19",group:"soldiers",owner:1}]},{spawn19:{pos:["b5","b3"]}},{spawn20:[{pos:"e2",id:"spawn20",group:"soldiers",owner:2}]},{spawn20:{pos:["e2","d3"]}},{spawn12:[{pos:"b2",id:"spawn12",group:"soldiers",owner:2},0,0],spawn17:{pos:["a2","b1"]}},{spawn14:[{pos:"c4",id:"spawn14",group:"soldiers",owner:1},0,0],spawn20:{pos:["d3","c5"]}},{spawn5:{pos:["e5","d5"]}},{spawn20:[{pos:"c5",id:"spawn20",group:"soldiers",owner:2},0,0],spawn21:[{pos:"b5",id:"spawn21",group:"soldiers",owner:1}]},{spawn5:{pos:["d5","e5"]}},{spawn22:[{pos:"e2",id:"spawn22",group:"soldiers",owner:2}]},{spawn18:{pos:["c3","d3"]}},{spawn19:{pos:["b3","c3"]}},{spawn17:{pos:["b1","d1"]}},{spawn22:{pos:["e2","b2"]}},{spawn7:[{pos:"e3",id:"spawn7",group:"soldiers",owner:2},0,0],spawn19:{pos:["c3","e2"]}}],anims:{},endHighlight:["e2","e5"]};t.a=s},Ovl5:function(e,t,n){"use strict";n.r(t),n.d(t,"Game",(function(){return P}));var s=n("ERkP"),o=n.n(s),r=n("ODXe"),i=n("rePB"),u=n("cDpP");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,r=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw r}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var d,b,w,m,T={},g={soldiers:"pawn"},y={soldiers:[["units"],["units","myunits"],["units","oppunits"]]},A={soldiers:[["units"],["units","oppunits"],["units","myunits"]]},f={movetargets:{},victims:{}},v={gameId:"towertwo",commands:{heal:{},deploy:{},move:{}},iconMap:g,setBoard:function(e){d=Object(u.O)(e,1),b=Object(u.O)(e,2),m={height:e.height,width:e.width},Object(u.e)(m),w=Object(u.d)(e),Object(u.z)(e)},newBattle:function(e,t){var n=Object(u.L)(e),s={units:{},myunits:{},oppunits:{}};for(var o in n){var r,i=n[o],a=i.group,c=i.pos,l=i.owner,d=p(A[a][l]);try{for(d.s();!(r=d.n()).done;){s[r.value][c]=i}}catch(b){d.e(b)}finally{d.f()}}return v.action["startTurn_".concat(t,"_1")]({NEXTSPAWNID:1,BATTLEVARS:{plr1wounded:0,plr2wounded:0},TURN:0,UNITDATA:n,UNITLAYERS:s})},action:{startTurn_basic_1:function(e){for(var t=e.UNITLAYERS,n={units:t.units,myunits:t.oppunits,oppunits:t.myunits},s={marks:{},commands:{}},o=e.BATTLEVARS,r=0,i=Object.keys(8>o.plr1wounded+Object.keys(n.myunits).length?c(c({},Object.keys(d.mybase).filter((function(e){return!n.units.hasOwnProperty(e)})).reduce((function(e,t){return e[t]=T,e}),{})),n.myunits):n.myunits);r<i.length;r++){var u=i[r];s.marks[u]="selectsource_basic_1"}return o.plr1wounded&&(s.commands.heal="heal_basic_1"),{UNITDATA:e.UNITDATA,LINKS:s,UNITLAYERS:n,ARTIFACTS:f,MARKS:{},TURN:e.TURN+1,NEXTSPAWNID:e.NEXTSPAWNID,TURNVARS:{},BATTLEVARS:o}},startTurn_basic_2:function(e){for(var t=e.UNITLAYERS,n={units:t.units,myunits:t.oppunits,oppunits:t.myunits},s={marks:{},commands:{}},o=e.BATTLEVARS,r=0,i=Object.keys(8>o.plr2wounded+Object.keys(n.myunits).length?c(c({},Object.keys(b.mybase).filter((function(e){return!n.units.hasOwnProperty(e)})).reduce((function(e,t){return e[t]=T,e}),{})),n.myunits):n.myunits);r<i.length;r++){var u=i[r];s.marks[u]="selectsource_basic_2"}return o.plr2wounded&&(s.commands.heal="heal_basic_2"),{UNITDATA:e.UNITDATA,LINKS:s,UNITLAYERS:n,ARTIFACTS:f,MARKS:{},TURN:e.TURN,NEXTSPAWNID:e.NEXTSPAWNID,TURNVARS:{},BATTLEVARS:o}},selectsource_basic_1:function(e,t){var n={movetargets:{},victims:{}},s={marks:{},commands:{}},o={selectsource:t},i=e.TURNVARS,a=e.UNITLAYERS;if(a.myunits[o.selectsource])for(var c={},l=[[o.selectsource,0]],d=a.units;l.length;){var b=l.shift(),m=Object(r.a)(b,2),g=m[0],y=m[1];c[g]=!0;var A,f=y+1,v=p(u.C);try{for(v.s();!(A=v.n()).done;){var h=A.value,O=w[g][h];O&&!c[O]&&!d[O]&&f<=3-(i.spent||0)&&(l.push([O,f]),n.movetargets[O]={dist:f})}}catch(D){v.e(D)}finally{v.f()}}if(!a.units[o.selectsource]){var S,R=a.oppunits,j=a.myunits,N=p(u.C);try{for(N.s();!(S=N.n()).done;){for(var x=S.value,I=[],_="",k=o.selectmovetarget||o.selectsource,U=0;!(_=(k=w[k][x])?j[k]?"hitblock":1===U?"reachedmax":R[k]?null:"nomoresteps":"outofbounds");)I.push(k),U++;for(var E=0;E<I.length;E++)k=I[E],"hitblock"===_&&(n.victims[k]=T)}}catch(D){N.e(D)}finally{N.f()}}if(a.myunits[o.selectsource])for(var L=0,P=Object.keys(n.movetargets);L<P.length;L++){var V=P[L];s.marks[V]="selectmovetarget_basic_1"}return a.units[o.selectsource]||(s.commands.deploy="deploy_basic_1"),{LINKS:s,ARTIFACTS:n,UNITLAYERS:a,UNITDATA:e.UNITDATA,TURN:e.TURN,MARKS:o,TURNVARS:i,BATTLEVARS:e.BATTLEVARS,NEXTSPAWNID:e.NEXTSPAWNID,canAlwaysEnd:!0}},selectmovetarget_basic_1:function(e,t){var n,s={victims:c({},e.ARTIFACTS.victims),movetargets:e.ARTIFACTS.movetargets},o={marks:{},commands:{}},r={selectsource:e.MARKS.selectsource,selectmovetarget:t},i=e.UNITLAYERS,a=i.oppunits,l=i.myunits,d=p(u.C);try{for(d.s();!(n=d.n()).done;){for(var b=n.value,m=[],g="",y=r.selectmovetarget||r.selectsource,A=0;!(g=(y=w[y][b])?l[y]?"hitblock":1===A?"reachedmax":a[y]?null:"nomoresteps":"outofbounds");)m.push(y),A++;for(var f=0;f<m.length;f++)y=m[f],"hitblock"===g&&(s.victims[y]=T)}}catch(v){d.e(v)}finally{d.f()}return o.commands.move="move_basic_1",{LINKS:o,ARTIFACTS:s,UNITLAYERS:i,UNITDATA:e.UNITDATA,TURN:e.TURN,MARKS:r,TURNVARS:e.TURNVARS,BATTLEVARS:e.BATTLEVARS,NEXTSPAWNID:e.NEXTSPAWNID}},selectsource_basic_2:function(e,t){var n={movetargets:{},victims:{}},s={marks:{},commands:{}},o={selectsource:t},i=e.TURNVARS,a=e.UNITLAYERS;if(a.myunits[o.selectsource])for(var c={},l=[[o.selectsource,0]],d=a.units;l.length;){var b=l.shift(),m=Object(r.a)(b,2),g=m[0],y=m[1];c[g]=!0;var A,f=y+1,v=p(u.C);try{for(v.s();!(A=v.n()).done;){var h=A.value,O=w[g][h];O&&!c[O]&&!d[O]&&f<=3-(i.spent||0)&&(l.push([O,f]),n.movetargets[O]={dist:f})}}catch(D){v.e(D)}finally{v.f()}}if(!a.units[o.selectsource]){var S,R=a.oppunits,j=a.myunits,N=p(u.C);try{for(N.s();!(S=N.n()).done;){for(var x=S.value,I=[],_="",k=o.selectmovetarget||o.selectsource,U=0;!(_=(k=w[k][x])?j[k]?"hitblock":1===U?"reachedmax":R[k]?null:"nomoresteps":"outofbounds");)I.push(k),U++;for(var E=0;E<I.length;E++)k=I[E],"hitblock"===_&&(n.victims[k]=T)}}catch(D){N.e(D)}finally{N.f()}}if(a.myunits[o.selectsource])for(var L=0,P=Object.keys(n.movetargets);L<P.length;L++){var V=P[L];s.marks[V]="selectmovetarget_basic_2"}return a.units[o.selectsource]||(s.commands.deploy="deploy_basic_2"),{LINKS:s,ARTIFACTS:n,UNITLAYERS:a,UNITDATA:e.UNITDATA,TURN:e.TURN,MARKS:o,TURNVARS:i,BATTLEVARS:e.BATTLEVARS,NEXTSPAWNID:e.NEXTSPAWNID,canAlwaysEnd:!0}},selectmovetarget_basic_2:function(e,t){var n,s={victims:c({},e.ARTIFACTS.victims),movetargets:e.ARTIFACTS.movetargets},o={marks:{},commands:{}},r={selectsource:e.MARKS.selectsource,selectmovetarget:t},i=e.UNITLAYERS,a=i.oppunits,l=i.myunits,d=p(u.C);try{for(d.s();!(n=d.n()).done;){for(var b=n.value,m=[],g="",y=r.selectmovetarget||r.selectsource,A=0;!(g=(y=w[y][b])?l[y]?"hitblock":1===A?"reachedmax":a[y]?null:"nomoresteps":"outofbounds");)m.push(y),A++;for(var f=0;f<m.length;f++)y=m[f],"hitblock"===g&&(s.victims[y]=T)}}catch(v){d.e(v)}finally{d.f()}return o.commands.move="move_basic_2",{LINKS:o,ARTIFACTS:s,UNITLAYERS:i,UNITDATA:e.UNITDATA,TURN:e.TURN,MARKS:r,TURNVARS:e.TURNVARS,BATTLEVARS:e.BATTLEVARS,NEXTSPAWNID:e.NEXTSPAWNID}},heal_basic_1:function(e){var t={marks:{},commands:{}},n=e.UNITLAYERS,s=c({},e.TURNVARS),o=c({},e.BATTLEVARS),r=c({},e.UNITDATA);for(var i in o.plr1wounded=(o.plr1wounded||0)+-1,s.spent=(s.spent||0)+1,n={units:{},myunits:{},oppunits:{}},r){var u,a=r[i],l=a.group,b=a.pos,w=a.owner,m=p(y[l][w]);try{for(m.s();!(u=m.n()).done;){var g=u.value;n[g][b]=a}}catch(h){m.e(h)}finally{m.f()}}if(s.spent>2)0===Object.keys(Object.keys(d.oppbase).filter((function(e){return!n.myunits.hasOwnProperty(e)})).reduce((function(e,t){return e[t]=T,e}),{})).length?(t.endGame="win",t.endedBy="occupybases",t.endMarks=Object.keys(d.oppbase)):t.endTurn="startTurn_basic_2";else{for(var A=0,f=Object.keys(8>o.plr1wounded+Object.keys(n.myunits).length?c(c({},Object.keys(d.mybase).filter((function(e){return!n.units.hasOwnProperty(e)})).reduce((function(e,t){return e[t]=T,e}),{})),n.myunits):n.myunits);A<f.length;A++){var v=f[A];t.marks[v]="selectsource_basic_1"}o.plr1wounded&&(t.commands.heal="heal_basic_1")}return{LINKS:t,MARKS:{},ARTIFACTS:e.ARTIFACTS,TURN:e.TURN,UNITDATA:r,UNITLAYERS:n,TURNVARS:s,BATTLEVARS:o,NEXTSPAWNID:e.NEXTSPAWNID}},deploy_basic_1:function(e){var t={marks:{},commands:{}},n={movetargets:e.ARTIFACTS.movetargets,victims:e.ARTIFACTS.victims},s=e.UNITLAYERS,o=c({},e.TURNVARS),r=c({},e.BATTLEVARS),i=c({},e.UNITDATA),u=e.NEXTSPAWNID,a=e.MARKS;o.spent=(o.spent||0)+1;var l="spawn"+u++;for(var b in i[l]={pos:a.selectsource,id:l,group:"soldiers",owner:1},n.victims)delete i[(s.units[b]||{}).id];for(var w in r.plr2wounded=(r.plr2wounded||0)+Object.keys(n.victims).length,s={units:{},myunits:{},oppunits:{}},i){var m,g=i[w],A=g.group,f=g.pos,v=g.owner,h=p(y[A][v]);try{for(h.s();!(m=h.n()).done;){var O=m.value;s[O][f]=g}}catch(N){h.e(N)}finally{h.f()}}if(o.spent>2)0===Object.keys(Object.keys(d.oppbase).filter((function(e){return!s.myunits.hasOwnProperty(e)})).reduce((function(e,t){return e[t]=T,e}),{})).length?(t.endGame="win",t.endedBy="occupybases",t.endMarks=Object.keys(d.oppbase)):t.endTurn="startTurn_basic_2";else{for(var S=0,R=Object.keys(8>r.plr1wounded+Object.keys(s.myunits).length?c(c({},Object.keys(d.mybase).filter((function(e){return!s.units.hasOwnProperty(e)})).reduce((function(e,t){return e[t]=T,e}),{})),s.myunits):s.myunits);S<R.length;S++){var j=R[S];t.marks[j]="selectsource_basic_1"}r.plr1wounded&&(t.commands.heal="heal_basic_1")}return{LINKS:t,MARKS:{},ARTIFACTS:n,TURN:e.TURN,UNITDATA:i,UNITLAYERS:s,TURNVARS:o,BATTLEVARS:r,NEXTSPAWNID:u}},move_basic_1:function(e){var t={marks:{},commands:{}},n={movetargets:e.ARTIFACTS.movetargets,victims:e.ARTIFACTS.victims},s=e.UNITLAYERS,o=c({},e.TURNVARS),r=c({},e.BATTLEVARS),i=c({},e.UNITDATA),u=e.MARKS;o.spent=(o.spent||0)+(n.movetargets[u.selectmovetarget]||{}).dist;var a=(s.units[u.selectsource]||{}).id;for(var l in a&&(i[a]=c(c({},i[a]),{},{pos:u.selectmovetarget})),n.victims)delete i[(s.units[l]||{}).id];for(var b in r.plr2wounded=(r.plr2wounded||0)+Object.keys(n.victims).length,s={units:{},myunits:{},oppunits:{}},i){var w,m=i[b],g=m.group,A=m.pos,f=m.owner,v=p(y[g][f]);try{for(v.s();!(w=v.n()).done;){var h=w.value;s[h][A]=m}}catch(j){v.e(j)}finally{v.f()}}if(o.spent>2)0===Object.keys(Object.keys(d.oppbase).filter((function(e){return!s.myunits.hasOwnProperty(e)})).reduce((function(e,t){return e[t]=T,e}),{})).length?(t.endGame="win",t.endedBy="occupybases",t.endMarks=Object.keys(d.oppbase)):t.endTurn="startTurn_basic_2";else{for(var O=0,S=Object.keys(8>r.plr1wounded+Object.keys(s.myunits).length?c(c({},Object.keys(d.mybase).filter((function(e){return!s.units.hasOwnProperty(e)})).reduce((function(e,t){return e[t]=T,e}),{})),s.myunits):s.myunits);O<S.length;O++){var R=S[O];t.marks[R]="selectsource_basic_1"}r.plr1wounded&&(t.commands.heal="heal_basic_1")}return{LINKS:t,MARKS:{},ARTIFACTS:n,TURN:e.TURN,UNITDATA:i,UNITLAYERS:s,TURNVARS:o,BATTLEVARS:r,NEXTSPAWNID:e.NEXTSPAWNID}},heal_basic_2:function(e){var t={marks:{},commands:{}},n=e.UNITLAYERS,s=c({},e.TURNVARS),o=c({},e.BATTLEVARS),r=c({},e.UNITDATA);for(var i in o.plr2wounded=(o.plr2wounded||0)+-1,s.spent=(s.spent||0)+1,n={units:{},myunits:{},oppunits:{}},r){var u,a=r[i],l=a.group,d=a.pos,w=a.owner,m=p(A[l][w]);try{for(m.s();!(u=m.n()).done;){var g=u.value;n[g][d]=a}}catch(h){m.e(h)}finally{m.f()}}if(s.spent>2)0===Object.keys(Object.keys(b.oppbase).filter((function(e){return!n.myunits.hasOwnProperty(e)})).reduce((function(e,t){return e[t]=T,e}),{})).length?(t.endGame="win",t.endedBy="occupybases",t.endMarks=Object.keys(b.oppbase)):t.endTurn="startTurn_basic_1";else{for(var y=0,f=Object.keys(8>o.plr2wounded+Object.keys(n.myunits).length?c(c({},Object.keys(b.mybase).filter((function(e){return!n.units.hasOwnProperty(e)})).reduce((function(e,t){return e[t]=T,e}),{})),n.myunits):n.myunits);y<f.length;y++){var v=f[y];t.marks[v]="selectsource_basic_2"}o.plr2wounded&&(t.commands.heal="heal_basic_2")}return{LINKS:t,MARKS:{},ARTIFACTS:e.ARTIFACTS,TURN:e.TURN,UNITDATA:r,UNITLAYERS:n,TURNVARS:s,BATTLEVARS:o,NEXTSPAWNID:e.NEXTSPAWNID}},deploy_basic_2:function(e){var t={marks:{},commands:{}},n={movetargets:e.ARTIFACTS.movetargets,victims:e.ARTIFACTS.victims},s=e.UNITLAYERS,o=c({},e.TURNVARS),r=c({},e.BATTLEVARS),i=c({},e.UNITDATA),u=e.NEXTSPAWNID,a=e.MARKS;o.spent=(o.spent||0)+1;var l="spawn"+u++;for(var d in i[l]={pos:a.selectsource,id:l,group:"soldiers",owner:2},n.victims)delete i[(s.units[d]||{}).id];for(var w in r.plr1wounded=(r.plr1wounded||0)+Object.keys(n.victims).length,s={units:{},myunits:{},oppunits:{}},i){var m,g=i[w],y=g.group,f=g.pos,v=g.owner,h=p(A[y][v]);try{for(h.s();!(m=h.n()).done;){var O=m.value;s[O][f]=g}}catch(N){h.e(N)}finally{h.f()}}if(o.spent>2)0===Object.keys(Object.keys(b.oppbase).filter((function(e){return!s.myunits.hasOwnProperty(e)})).reduce((function(e,t){return e[t]=T,e}),{})).length?(t.endGame="win",t.endedBy="occupybases",t.endMarks=Object.keys(b.oppbase)):t.endTurn="startTurn_basic_1";else{for(var S=0,R=Object.keys(8>r.plr2wounded+Object.keys(s.myunits).length?c(c({},Object.keys(b.mybase).filter((function(e){return!s.units.hasOwnProperty(e)})).reduce((function(e,t){return e[t]=T,e}),{})),s.myunits):s.myunits);S<R.length;S++){var j=R[S];t.marks[j]="selectsource_basic_2"}r.plr2wounded&&(t.commands.heal="heal_basic_2")}return{LINKS:t,MARKS:{},ARTIFACTS:n,TURN:e.TURN,UNITDATA:i,UNITLAYERS:s,TURNVARS:o,BATTLEVARS:r,NEXTSPAWNID:u}},move_basic_2:function(e){var t={marks:{},commands:{}},n={movetargets:e.ARTIFACTS.movetargets,victims:e.ARTIFACTS.victims},s=e.UNITLAYERS,o=c({},e.TURNVARS),r=c({},e.BATTLEVARS),i=c({},e.UNITDATA),u=e.MARKS;o.spent=(o.spent||0)+(n.movetargets[u.selectmovetarget]||{}).dist;var a=(s.units[u.selectsource]||{}).id;for(var l in a&&(i[a]=c(c({},i[a]),{},{pos:u.selectmovetarget})),n.victims)delete i[(s.units[l]||{}).id];for(var d in r.plr1wounded=(r.plr1wounded||0)+Object.keys(n.victims).length,s={units:{},myunits:{},oppunits:{}},i){var w,m=i[d],g=m.group,y=m.pos,f=m.owner,v=p(A[g][f]);try{for(v.s();!(w=v.n()).done;){var h=w.value;s[h][y]=m}}catch(j){v.e(j)}finally{v.f()}}if(o.spent>2)0===Object.keys(Object.keys(b.oppbase).filter((function(e){return!s.myunits.hasOwnProperty(e)})).reduce((function(e,t){return e[t]=T,e}),{})).length?(t.endGame="win",t.endedBy="occupybases",t.endMarks=Object.keys(b.oppbase)):t.endTurn="startTurn_basic_1";else{for(var O=0,S=Object.keys(8>r.plr2wounded+Object.keys(s.myunits).length?c(c({},Object.keys(b.mybase).filter((function(e){return!s.units.hasOwnProperty(e)})).reduce((function(e,t){return e[t]=T,e}),{})),s.myunits):s.myunits);O<S.length;O++){var R=S[O];t.marks[R]="selectsource_basic_2"}r.plr2wounded&&(t.commands.heal="heal_basic_2")}return{LINKS:t,MARKS:{},ARTIFACTS:n,TURN:e.TURN,UNITDATA:i,UNITLAYERS:s,TURNVARS:o,BATTLEVARS:r,NEXTSPAWNID:e.NEXTSPAWNID}}},instruction:{startTurn_basic_1:function(e){var t=e.BATTLEVARS,n=e.UNITLAYERS;return Object(u.g)({line:[{text:"3 actions remaining."},t.plr1wounded?Object(u.g)({line:[{text:"Press"},{command:"heal"},{text:"to heal"},1===t.plr1wounded?Object(u.g)({line:[{text:"your wounded soldier"}]}):Object(u.g)({line:[{text:"one of your"},{text:t.plr1wounded},{text:"wounded soldiers"}]}),{text:", or select"}]}):Object(u.g)({line:[{select:"Select"}]}),Object(u.g)({line:[0!==Object.keys(n.myunits).length?Object(u.g)({line:[{unittype:["pawn",1]},{text:"to move"}]}):void 0,8>t.plr1wounded+Object.keys(n.myunits).length?Object(u.g)({line:[{text:"base to deploy from"}]}):void 0].filter((function(e){return!!e})).reduce((function(e,t,n,s){return e.push(t),n===s.length-2?e.push({text:" or "}):n<s.length-2&&e.push({text:", "}),e}),[])})]})},heal_basic_1:function(e){var t=e.TURNVARS,n=e.BATTLEVARS,s=e.UNITLAYERS;return 3===t.spent?Object(u.g)({line:[{text:"Press "},{endTurn:"end turn"},{text:" to submit your moves and hand over to "},{player:2}]}):Object(u.g)({line:[{text:3-t.spent},2===t.spent?{text:"action"}:{text:"actions"},{text:"remaining!"},n.plr1wounded?Object(u.g)({line:[{text:"Press"},{command:"heal"},{text:"to heal"},1===n.plr1wounded?Object(u.g)({line:[{text:"your wounded soldier"}]}):Object(u.g)({line:[{text:"one of your"},{text:n.plr1wounded},{text:"wounded soldiers"}]}),{text:", or select"}]}):Object(u.g)({line:[{select:"Select"}]}),Object(u.g)({line:[0!==Object.keys(s.myunits).length?Object(u.g)({line:[{unittype:["pawn",1]},{text:"to move"}]}):void 0,8>n.plr1wounded+Object.keys(s.myunits).length?Object(u.g)({line:[{text:"base to deploy from"}]}):void 0].filter((function(e){return!!e})).reduce((function(e,t,n,s){return e.push(t),n===s.length-2?e.push({text:" or "}):n<s.length-2&&e.push({text:", "}),e}),[])})]})},deploy_basic_1:function(e){var t=e.TURNVARS,n=e.BATTLEVARS,s=e.UNITLAYERS;return 3===t.spent?Object(u.g)({line:[{text:"Press "},{endTurn:"end turn"},{text:" to submit your moves and hand over to "},{player:2}]}):Object(u.g)({line:[{text:3-t.spent},2===t.spent?{text:"action"}:{text:"actions"},{text:"remaining!"},n.plr1wounded?Object(u.g)({line:[{text:"Press"},{command:"heal"},{text:"to heal"},1===n.plr1wounded?Object(u.g)({line:[{text:"your wounded soldier"}]}):Object(u.g)({line:[{text:"one of your"},{text:n.plr1wounded},{text:"wounded soldiers"}]}),{text:", or select"}]}):Object(u.g)({line:[{select:"Select"}]}),Object(u.g)({line:[0!==Object.keys(s.myunits).length?Object(u.g)({line:[{unittype:["pawn",1]},{text:"to move"}]}):void 0,8>n.plr1wounded+Object.keys(s.myunits).length?Object(u.g)({line:[{text:"base to deploy from"}]}):void 0].filter((function(e){return!!e})).reduce((function(e,t,n,s){return e.push(t),n===s.length-2?e.push({text:" or "}):n<s.length-2&&e.push({text:", "}),e}),[])})]})},move_basic_1:function(e){var t=e.TURNVARS,n=e.BATTLEVARS,s=e.UNITLAYERS;return 3===t.spent?Object(u.g)({line:[{text:"Press "},{endTurn:"end turn"},{text:" to submit your moves and hand over to "},{player:2}]}):Object(u.g)({line:[{text:3-t.spent},2===t.spent?{text:"action"}:{text:"actions"},{text:"remaining!"},n.plr1wounded?Object(u.g)({line:[{text:"Press"},{command:"heal"},{text:"to heal"},1===n.plr1wounded?Object(u.g)({line:[{text:"your wounded soldier"}]}):Object(u.g)({line:[{text:"one of your"},{text:n.plr1wounded},{text:"wounded soldiers"}]}),{text:", or select"}]}):Object(u.g)({line:[{select:"Select"}]}),Object(u.g)({line:[0!==Object.keys(s.myunits).length?Object(u.g)({line:[{unittype:["pawn",1]},{text:"to move"}]}):void 0,8>n.plr1wounded+Object.keys(s.myunits).length?Object(u.g)({line:[{text:"base to deploy from"}]}):void 0].filter((function(e){return!!e})).reduce((function(e,t,n,s){return e.push(t),n===s.length-2?e.push({text:" or "}):n<s.length-2&&e.push({text:", "}),e}),[])})]})},selectsource_basic_1:function(e){var t=e.BATTLEVARS,n=e.ARTIFACTS,s=e.MARKS,o=e.UNITLAYERS;return o.units[s.selectsource]?Object(u.g)({line:[{text:"Select where to move"},{unit:[g[(o.units[s.selectsource]||{}).group],(o.units[s.selectsource]||{}).owner,s.selectsource]}]}):Object(u.g)({line:[{text:"Press"},{command:"deploy"},{text:"to spawn one of your"},{text:8-Object.keys(o.myunits).length-t.plr1wounded},{text:"available"},{unittype:["pawn",1]},{text:"at"},{pos:s.selectsource},0!==Object.keys(n.victims).length?Object(u.g)({line:[{text:"and wound"},Object(u.g)({line:Object.keys(n.victims).filter((function(e){return o.units[e]})).map((function(e){return{unit:[g[o.units[e].group],o.units[e].owner,e]}})).reduce((function(e,t,n,s){return e.push(t),n===s.length-2?e.push({text:" and "}):n<s.length-2&&e.push({text:", "}),e}),[])})]}):void 0]})},selectmovetarget_basic_1:function(e){var t=e.ARTIFACTS,n=e.MARKS,s=e.UNITLAYERS;return Object(u.g)({line:[{text:"Press"},{command:"move"},{text:"to spend"},{text:(t.movetargets[n.selectmovetarget]||{}).dist},{text:"action points for"},{unit:[g[(s.units[n.selectsource]||{}).group],(s.units[n.selectsource]||{}).owner,n.selectsource]},{text:"to go to"},{pos:n.selectmovetarget},0!==Object.keys(t.victims).length?Object(u.g)({line:[{text:"and wound"},Object(u.g)({line:Object.keys(t.victims).filter((function(e){return s.units[e]})).map((function(e){return{unit:[g[s.units[e].group],s.units[e].owner,e]}})).reduce((function(e,t,n,s){return e.push(t),n===s.length-2?e.push({text:" and "}):n<s.length-2&&e.push({text:", "}),e}),[])})]}):void 0]})},startTurn_basic_2:function(e){var t=e.BATTLEVARS,n=e.UNITLAYERS;return Object(u.g)({line:[{text:"3 actions remaining."},t.plr2wounded?Object(u.g)({line:[{text:"Press"},{command:"heal"},{text:"to heal"},1===t.plr2wounded?Object(u.g)({line:[{text:"your wounded soldier"}]}):Object(u.g)({line:[{text:"one of your"},{text:t.plr2wounded},{text:"wounded soldiers"}]}),{text:", or select"}]}):Object(u.g)({line:[{select:"Select"}]}),Object(u.g)({line:[0!==Object.keys(n.myunits).length?Object(u.g)({line:[{unittype:["pawn",2]},{text:"to move"}]}):void 0,8>t.plr2wounded+Object.keys(n.myunits).length?Object(u.g)({line:[{text:"base to deploy from"}]}):void 0].filter((function(e){return!!e})).reduce((function(e,t,n,s){return e.push(t),n===s.length-2?e.push({text:" or "}):n<s.length-2&&e.push({text:", "}),e}),[])})]})},heal_basic_2:function(e){var t=e.TURNVARS,n=e.BATTLEVARS,s=e.UNITLAYERS;return 3===t.spent?Object(u.g)({line:[{text:"Press "},{endTurn:"end turn"},{text:" to submit your moves and hand over to "},{player:1}]}):Object(u.g)({line:[{text:3-t.spent},2===t.spent?{text:"action"}:{text:"actions"},{text:"remaining!"},n.plr2wounded?Object(u.g)({line:[{text:"Press"},{command:"heal"},{text:"to heal"},1===n.plr2wounded?Object(u.g)({line:[{text:"your wounded soldier"}]}):Object(u.g)({line:[{text:"one of your"},{text:n.plr2wounded},{text:"wounded soldiers"}]}),{text:", or select"}]}):Object(u.g)({line:[{select:"Select"}]}),Object(u.g)({line:[0!==Object.keys(s.myunits).length?Object(u.g)({line:[{unittype:["pawn",2]},{text:"to move"}]}):void 0,8>n.plr2wounded+Object.keys(s.myunits).length?Object(u.g)({line:[{text:"base to deploy from"}]}):void 0].filter((function(e){return!!e})).reduce((function(e,t,n,s){return e.push(t),n===s.length-2?e.push({text:" or "}):n<s.length-2&&e.push({text:", "}),e}),[])})]})},deploy_basic_2:function(e){var t=e.TURNVARS,n=e.BATTLEVARS,s=e.UNITLAYERS;return 3===t.spent?Object(u.g)({line:[{text:"Press "},{endTurn:"end turn"},{text:" to submit your moves and hand over to "},{player:1}]}):Object(u.g)({line:[{text:3-t.spent},2===t.spent?{text:"action"}:{text:"actions"},{text:"remaining!"},n.plr2wounded?Object(u.g)({line:[{text:"Press"},{command:"heal"},{text:"to heal"},1===n.plr2wounded?Object(u.g)({line:[{text:"your wounded soldier"}]}):Object(u.g)({line:[{text:"one of your"},{text:n.plr2wounded},{text:"wounded soldiers"}]}),{text:", or select"}]}):Object(u.g)({line:[{select:"Select"}]}),Object(u.g)({line:[0!==Object.keys(s.myunits).length?Object(u.g)({line:[{unittype:["pawn",2]},{text:"to move"}]}):void 0,8>n.plr2wounded+Object.keys(s.myunits).length?Object(u.g)({line:[{text:"base to deploy from"}]}):void 0].filter((function(e){return!!e})).reduce((function(e,t,n,s){return e.push(t),n===s.length-2?e.push({text:" or "}):n<s.length-2&&e.push({text:", "}),e}),[])})]})},move_basic_2:function(e){var t=e.TURNVARS,n=e.BATTLEVARS,s=e.UNITLAYERS;return 3===t.spent?Object(u.g)({line:[{text:"Press "},{endTurn:"end turn"},{text:" to submit your moves and hand over to "},{player:1}]}):Object(u.g)({line:[{text:3-t.spent},2===t.spent?{text:"action"}:{text:"actions"},{text:"remaining!"},n.plr2wounded?Object(u.g)({line:[{text:"Press"},{command:"heal"},{text:"to heal"},1===n.plr2wounded?Object(u.g)({line:[{text:"your wounded soldier"}]}):Object(u.g)({line:[{text:"one of your"},{text:n.plr2wounded},{text:"wounded soldiers"}]}),{text:", or select"}]}):Object(u.g)({line:[{select:"Select"}]}),Object(u.g)({line:[0!==Object.keys(s.myunits).length?Object(u.g)({line:[{unittype:["pawn",2]},{text:"to move"}]}):void 0,8>n.plr2wounded+Object.keys(s.myunits).length?Object(u.g)({line:[{text:"base to deploy from"}]}):void 0].filter((function(e){return!!e})).reduce((function(e,t,n,s){return e.push(t),n===s.length-2?e.push({text:" or "}):n<s.length-2&&e.push({text:", "}),e}),[])})]})},selectsource_basic_2:function(e){var t=e.BATTLEVARS,n=e.ARTIFACTS,s=e.MARKS,o=e.UNITLAYERS;return o.units[s.selectsource]?Object(u.g)({line:[{text:"Select where to move"},{unit:[g[(o.units[s.selectsource]||{}).group],(o.units[s.selectsource]||{}).owner,s.selectsource]}]}):Object(u.g)({line:[{text:"Press"},{command:"deploy"},{text:"to spawn one of your"},{text:8-Object.keys(o.myunits).length-t.plr2wounded},{text:"available"},{unittype:["pawn",2]},{text:"at"},{pos:s.selectsource},0!==Object.keys(n.victims).length?Object(u.g)({line:[{text:"and wound"},Object(u.g)({line:Object.keys(n.victims).filter((function(e){return o.units[e]})).map((function(e){return{unit:[g[o.units[e].group],o.units[e].owner,e]}})).reduce((function(e,t,n,s){return e.push(t),n===s.length-2?e.push({text:" and "}):n<s.length-2&&e.push({text:", "}),e}),[])})]}):void 0]})},selectmovetarget_basic_2:function(e){var t=e.ARTIFACTS,n=e.MARKS,s=e.UNITLAYERS;return Object(u.g)({line:[{text:"Press"},{command:"move"},{text:"to spend"},{text:(t.movetargets[n.selectmovetarget]||{}).dist},{text:"action points for"},{unit:[g[(s.units[n.selectsource]||{}).group],(s.units[n.selectsource]||{}).owner,n.selectsource]},{text:"to go to"},{pos:n.selectmovetarget},0!==Object.keys(t.victims).length?Object(u.g)({line:[{text:"and wound"},Object(u.g)({line:Object.keys(t.victims).filter((function(e){return s.units[e]})).map((function(e){return{unit:[g[s.units[e].group],s.units[e].owner,e]}})).reduce((function(e,t,n,s){return e.push(t),n===s.length-2?e.push({text:" and "}):n<s.length-2&&e.push({text:", "}),e}),[])})]}):void 0]})}},variants:[{ruleset:"basic",board:"basic",setup:"basic",desc:"regular",code:"r",arr:{setup:{soldiers:{1:["b2","b3","b5","e5"],2:["c2","e3"]}},marks:["c2"],potentialMarks:["a1","b1","b4","c1","c3","c4","c5","d1","d2","d3","d4","e1","e2","f2"]}}],boards:{basic:{height:6,width:6,terrain:{base:{1:["b2","b5"],2:["e2","e5"]}}}},setups:{basic:{soldiers:{1:["b2","b5"],2:["e2","e5"]}}}},h=v,O=n("nIA/"),S=Object(O.a)(h),R=n("tg5/"),j=n("+OV4"),N=n("J6Jl"),x=n("fM/q"),I={api:S,graphics:R.a,meta:j.a,demo:N.a,rules:x.a,imgsToPreload:["/images/games/towertwo/towertwo.jpg"]},_=n("krfZ"),k=n("Xity"),U=n("+zLY"),E=n("0IYK"),L=o.a.createElement,P=function(){var e=Object(E.c)(I.api);return L(k.d.Provider,{value:I},L(k.e.Provider,{value:e},L(_.a,null)))};P.domain="towertwo",P.mainImage="/images/games/towertwo/towertwo_active.png",P.metaDesc="Play the abstract board game Tower Two at Chessicals! The two times two towers!",P.metaTitle="Tower Two by Paco Barter",P.title="Tower Two",P.preloadImages=I.imgsToPreload,P.nav=Object(U.a)(I.meta);t.default=P},eqdx:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/tower_two",function(){return n("Ovl5")}])}},[["eqdx",1,0,2,3,4,5,6,7,43]]]);