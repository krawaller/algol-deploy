_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[73],{"/0+H":function(t,e,n){"use strict";e.__esModule=!0,e.isInAmpMode=i,e.useAmp=function(){return i(a.default.useContext(o.AmpStateContext))};var r,a=(r=n("ERkP"))&&r.__esModule?r:{default:r},o=n("lwAK");function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.ampFirst,n=void 0!==e&&e,r=t.hybrid,a=void 0!==r&&r,o=t.hasQuery,i=void 0!==o&&o;return n||a&&i}},0:function(t,e,n){n("74v/"),t.exports=n("nOHt")},"0IYK":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return c}));var r=n("ERkP"),a=function(t){var e=t.router,n=t.global,a=t.initialNav,o=Object(r.useState)(a),i=o[0],u=o[1],s=Object(r.useState)(!1),c=s[0],l=s[1],v=Object(r.useState)(!0),f=v[0],h=v[1],d=Object(r.useState)(e.query),p=d[0],m=d[1],g=Object(r.useCallback)((function(){return m(e.query)}),[e]);Object(r.useEffect)((function(){return e.events.on("routeChangeComplete",g),function(){e.events.off("routeChangeComplete",g)}}),[e]);var b=Object(r.useCallback)((function(t){l(t),t&&f&&h(!1)}),[f]);return{actions:Object(r.useMemo)((function(){return{navTo:function(t){e.push(t)},replace:function(t){e.replace(t)},prefetch:function(t){e.prefetch(t)},back:function(){return e.back()},logEvent:function(t){n.ga&&n.ga("send",{hitType:"event",eventCategory:t.category,eventAction:t.action,eventLabel:t.label})},setNav:u,setFullscreenNav:b,reportError:function(t,e){console.log("ERROR",t,"LVL",e),alert(t.description||"Something went wrong! :/")}}}),[e,n]),state:Object(r.useMemo)((function(){return{nav:i,isFullscreenNav:c,neverFullscreenNav:f,sessionId:p.sid,battleMode:p.m}}),[i,c,f,p.sid,p.m])}},o=function(t){return t.split("/").slice(0,3).join("/")},i=function(t){return Object(r.useMemo)((function(){return{toHistory:function(){return t.push({pathname:o(t.pathname),query:{sid:t.query.sid,m:"history"}})},toGameLobby:function(){return t.push({pathname:o(t.pathname)})},toBattleLobby:function(){return t.push({pathname:o(t.pathname),query:{sid:t.query.sid,m:"battlelobby"}})},toBattleControls:function(){return t.push({pathname:o(t.pathname),query:{sid:t.query.sid,m:"playing"}})},toSession:function(e,n,r){return t[r?"replace":"push"]({pathname:o(t.pathname),query:{sid:e,m:n||"battlelobby"}})},toNewLocalBattle:function(e,n,r){return t.push({pathname:r?"/games/".concat(r,"/"):o(t.pathname),query:{sid:"new_".concat(e),m:n||"playing"}})}}}),[])},u=n("VmKQ"),s=n("TTWC"),c=function(t){var e=Object(s.b)(),n=i(e);return Object(r.useMemo)((function(){return{newLocalBattle:n.toNewLocalBattle,deleteSession:function(e,r){u.localSessionActions.deleteSession(e,t.gameId),r&&n.toGameLobby()},loadLocalSession:function(t){n.toSession(t)},forkBattleFrame:function(e,r){var a=u.localSessionActions.forkBattleFrame({battle:e,frame:r,api:t}).session;n.toSession(a.id)},importSession:function(e){var r=u.localSessionActions.importSession({seed:e,api:t}).session;n.toSession(r.id)}}}),[n,t])}},"20a2":function(t,e,n){t.exports=n("nOHt")},"74v/":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n("cha2")}])},"7W2i":function(t,e,n){var r=n("SksO");t.exports=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},"8Kt/":function(t,e,n){"use strict";var r=n("lSNA");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}e.__esModule=!0,e.defaultHead=f,e.default=void 0;var o,i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var e=v();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var o=r?Object.getOwnPropertyDescriptor(t,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=t[a]}n.default=t,e&&e.set(t,n);return n}(n("ERkP")),u=(o=n("Xuae"))&&o.__esModule?o:{default:o},s=n("lwAK"),c=n("FYa8"),l=n("/0+H");function v(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return v=function(){return t},t}function f(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[i.default.createElement("meta",{charSet:"utf-8"})];return t||e.push(i.default.createElement("meta",{name:"viewport",content:"width=device-width"})),e}function h(t,e){return"string"===typeof e||"number"===typeof e?t:e.type===i.default.Fragment?t.concat(i.default.Children.toArray(e.props.children).reduce((function(t,e){return"string"===typeof e||"number"===typeof e?t:t.concat(e)}),[])):t.concat(e)}var d=["name","httpEquiv","charSet","itemProp"];function p(t,e){return t.reduce((function(t,e){var n=i.default.Children.toArray(e.props.children);return t.concat(n)}),[]).reduce(h,[]).reverse().concat(f(e.inAmpMode)).filter(function(){var t=new Set,e=new Set,n=new Set,r={};return function(a){var o=!0,i=!1;if(a.key&&"number"!==typeof a.key&&a.key.indexOf("$")>0){i=!0;var u=a.key.slice(a.key.indexOf("$")+1);t.has(u)?o=!1:t.add(u)}switch(a.type){case"title":case"base":e.has(a.type)?o=!1:e.add(a.type);break;case"meta":for(var s=0,c=d.length;s<c;s++){var l=d[s];if(a.props.hasOwnProperty(l))if("charSet"===l)n.has(l)?o=!1:n.add(l);else{var v=a.props[l],f=r[l]||new Set;"name"===l&&i||!f.has(v)?(f.add(v),r[l]=f):o=!1}}}return o}}()).reverse().map((function(t,n){var o=t.key||n;if(!e.inAmpMode&&"link"===t.type&&t.props.href&&["https://fonts.googleapis.com/css"].some((function(e){return t.props.href.startsWith(e)}))){var u=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t.props||{});return u["data-href"]=u.href,u.href=void 0,i.default.cloneElement(t,u)}return i.default.cloneElement(t,{key:o})}))}function m(t){var e=t.children,n=(0,i.useContext)(s.AmpStateContext),r=(0,i.useContext)(c.HeadManagerContext);return i.default.createElement(u.default,{reduceComponentsToState:p,headManager:r,inAmpMode:(0,l.isInAmpMode)(n)},e)}m.rewind=function(){};var g=m;e.default=g},Bnag:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},EbDI:function(t,e){t.exports=function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},FYa8:function(t,e,n){"use strict";var r;e.__esModule=!0,e.HeadManagerContext=void 0;var a=((r=n("ERkP"))&&r.__esModule?r:{default:r}).default.createContext({});e.HeadManagerContext=a},Ijbi:function(t,e,n){var r=n("WkPL");t.exports=function(t){if(Array.isArray(t))return r(t)}},Nsbk:function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},PJYZ:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},RIqP:function(t,e,n){var r=n("Ijbi"),a=n("EbDI"),o=n("ZhPi"),i=n("Bnag");t.exports=function(t){return r(t)||a(t)||o(t)||i()}},TTWC:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return u}));var r=n("20a2"),a=n.n(r),o=n("ERkP"),i=Object(o.createContext)(a.a.router),u=function(){return Object(o.useContext)(i)}},Upb4:function(t,e){t.exports="3978635401139481"},Xity:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"f",(function(){return u})),n.d(e,"c",(function(){return c})),n.d(e,"h",(function(){return l})),n.d(e,"b",(function(){return f})),n.d(e,"g",(function(){return h})),n.d(e,"e",(function(){return p})),n.d(e,"k",(function(){return m})),n.d(e,"d",(function(){return g})),n.d(e,"j",(function(){return b})),n.d(e,"i",(function(){return y}));var r=n("ERkP"),a=n("z7ul"),o=(a.fakeToaster,{navTo:function(t){return console.log("nav to",t)},replace:function(t){return console.log("replace path",t)},prefetch:function(t){return console.log("prefetch",t)},back:function(){return console.log("back")},setNav:function(t){return console.log("nav updated",t)},logEvent:function(t){return console.log("logged event",t)},setFullscreenNav:function(t){return console.log("fullscreen nav set to",t)},reportError:function(t,e){return console.log("logged error",t,"level",e)}}),i=Object(r.createContext)(o),u=function(){return Object(r.useContext)(i)},s={toHistory:function(){return console.log("to history")},toGameLobby:function(){return console.log("to game lobby")},toBattleLobby:function(){return console.log("to battle lobby")},toBattleControls:function(){return console.log("to battle controls")},toNewLocalBattle:function(t,e,n){return console.log("to new local battle",{code:t,mode:e,slug:n})},toSession:function(t,e){return console.log("to session",{id:t,mode:e})}},c=Object(r.createContext)(s),l=function(){return Object(r.useContext)(c)},v={nav:n("0MC+").a,isFullscreenNav:!1,neverFullscreenNav:!0},f=Object(r.createContext)(v),h=function(){return Object(r.useContext)(f)},d={newLocalBattle:function(t){console.log("Started new local battle with code",t)},deleteSession:function(t,e){console.log("Deleting",{sessionId:t,retreatToGameLobby:e})},loadLocalSession:function(t){console.log("loading",t)},forkBattleFrame:function(t,e){console.log("forking",{battle:t,frame:e})},importSession:function(t){console.log("import session from string",t)}},p=Object(r.createContext)(d),m=function(){return Object(r.useContext)(p)},g=Object(r.createContext)(null),b=function(){return Object(r.useContext)(g)},y=function(){return b().api}},Xuae:function(t,e,n){"use strict";var r=n("RIqP"),a=n("lwsE"),o=n("W8MJ"),i=(n("PJYZ"),n("7W2i")),u=n("a1gu"),s=n("Nsbk");function c(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var a=s(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u(this,n)}}e.__esModule=!0,e.default=void 0;var l=n("ERkP"),v=function(t){i(n,t);var e=c(n);function n(t){var o;return a(this,n),(o=e.call(this,t))._hasHeadManager=void 0,o.emitChange=function(){o._hasHeadManager&&o.props.headManager.updateHead(o.props.reduceComponentsToState(r(o.props.headManager.mountedInstances),o.props))},o._hasHeadManager=o.props.headManager&&o.props.headManager.mountedInstances,o}return o(n,[{key:"componentDidMount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.add(this),this.emitChange()}},{key:"componentDidUpdate",value:function(){this.emitChange()}},{key:"componentWillUnmount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.delete(this),this.emitChange()}},{key:"render",value:function(){return null}}]),n}(l.Component);e.default=v},a1gu:function(t,e,n){var r=n("cDf5"),a=n("PJYZ");t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?a(t):e}},cg49:function(t,e,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r)&&r.length){var i=a.apply(null,r);i&&t.push(i)}else if("object"===o)for(var u in r)n.call(r,u)&&r[u]&&t.push(u)}}return t.join(" ")}t.exports?(a.default=a,t.exports=a):void 0===(r=function(){return a}.apply(e,[]))||(t.exports=r)}()},cha2:function(t,e,n){"use strict";n.r(e);var r=n("ERkP"),a=n.n(r),o=n("20a2"),i=n.n(o),u=n("g4pe"),s=n.n(u),c=n("cg49"),l=n.n(c),v=n("h4uc"),f=n.n(v),h={shellContainer:"shellContainer",hideDuringFullNav:"hideDuringFullNav",shellContainerWithFullNav:"shellContainerWithFullNav",shellNav:"shellNav"},d={navContainer:"navContainer",navFull:"navFull",navNever:"navNever",navRow:"navRow",navAlways:"navAlways",navBetweenRow:"navBetweenRow",navRowStepContainer:"navRowStepContainer",navLinkArrowRow:"navLinkArrowRow",navButton:"navButton",navButtonHighlight:"navButtonHighlight",navFiller:"navFiller",navFlexLeft:"navFlexLeft",navFlexRight:"navFlexRight",navButtonInner:"navButtonInner",navButtonShortcut:"navButtonShortcut",navSideButtonContainer:"navSideButtonContainer",navBackButtonContainer:"navBackButtonContainer",navButtonActive:"navButtonActive",navCompassBtnContainer:"navCompassBtnContainer",navMapButtonContainer:"navMapButtonContainer",navBackBtnContainer:"navBackBtnContainer",navTopRow:"navTopRow",navMute:"navMute",navShadeBottom:"navShadeBottom",navHomeBtnContainer:"navHomeBtnContainer",navFirst:"navFirst",navWithCrumbs:"navWithCrumbs"},p=n("rePB"),m=n("KxaP"),g=n("V5Aj"),b=function(t){if(t){var e=t.crumbs,n=t.me.links;if(n.length&&e.length)return e[e.length-1].links.find((function(t){return t.id===n[n.length-1].id}))||null}return null},y={navBottom:"navBottom",navBottomDuringEntering:"navBottomDuringEntering",navBottomDuringExiting:"navBottomDuringExiting",navBottomFurther:"navBottomFurther",navBottomNearer:"navBottomNearer",navBottomSame:"navBottomSame",navBottomHintContainer:"navBottomHintContainer",navBottomHint:"navBottomHint",navBottomBackHint:"navBottomBackHint",navBottomShortcutHint:"navBottomShortcutHint"},w=n("Xity"),B=function(t){var e=t.step,n=Object(w.f)(),a=e.url,o=e.onClick;return Object(r.useMemo)((function(){return o||(a?function(t){t&&t.preventDefault(),n.navTo(a)}:function(){})}),[a,o,n.navTo])},S=!0,k=a.a.createElement,O=function(){},C=function(t){var e=t.step,n=t.active,r=t.mute,a=t.highlight,o=t.type,i=void 0===o?"normal":o,u=Object(w.g)().isFullscreenNav,s=e.title,c=e.shortTitle,v=e.desc,f=e.url,h=B({step:e});return k("div",{className:l()(d.navButton,n&&d.navButtonActive,r&&d.navMute,a&&d.navButtonHighlight)},k("a",{href:f,className:l()(d.navButtonInner,r&&d.navMute,"normal"!==i&&u&&d.navButtonShortcut),title:v,onClick:r?O:h},c||s))},N={arrowContainer:"arrowContainer",arrowMultiContainer:"arrowMultiContainer",arrowFlushTop:"arrowFlushTop",arrowEastWest:"arrowEastWest",arrowDashed:"arrowDashed",arrowNorthSouth:"arrowNorthSouth",arrowSouthEast:"arrowSouthEast",arrowSouthWest:"arrowSouthWest",arrowNorthWest:"arrowNorthWest",arrowNorthEast:"arrowNorthEast",arrowHeadNorth:"arrowHeadNorth",arrowHeadSouth:"arrowHeadSouth",arrowHeadEast:"arrowHeadEast",arrowHeadWest:"arrowHeadWest"},j=a.a.createElement,E={eastwest:N.arrowEastWest,northsouth:N.arrowNorthSouth,southeast:N.arrowSouthEast,southwest:N.arrowSouthWest,northwest:N.arrowNorthWest,northeast:N.arrowNorthEast},x={north:N.arrowHeadNorth,south:N.arrowHeadSouth,east:N.arrowHeadEast,west:N.arrowHeadWest},H={top:N.arrowFlushTop},F=(Object.keys(E),["none"].concat(Object.keys(x)),["none"].concat(Object.keys(H)),function(t){var e=t.layout,n=t.head,r=t.flush,a=t.dashed;return j("div",{className:l()(N.arrowContainer,E[e],n&&x[n],r&&H[r],a&&N.arrowDashed)})}),M=a.a.createElement,P=function(t){var e=Object(r.useState)({depth:-1,dir:"same"}),n=e[0],o=n.depth,i=n.dir,u=e[1],s=t.hasBackBtn,c=t.hasShortcut,v=Object(w.g)(),f=v.isFullscreenNav,h=v.nav,p=h||{crumbs:[],me:{links:[]},key:Math.random()},B=p.crumbs,k=p.key,O=p.me.links,N=Object(r.useMemo)((function(){return b(h)}),[h]),j=Object(r.useMemo)((function(){return(B.length?B.slice(-1):[]).concat(O)}),[O,B]),E=B.length;return Object(r.useEffect)((function(){return u({depth:E,dir:E>o?"down":E<o?"up":"same"})}),[B]),M(m.a,{childFactory:function(t){return a.a.cloneElement(t,{dir:i})}},M(g.a,{key:k,timeout:{enter:20,exit:500}},(function(t,e){var n=e.dir;if("exited"===t)return null;var a=_(t,n);return M("div",{className:A(t,a)},M("div",{className:l()(d.navRow,d.navAlways)},M("div",{className:d.navSideButtonContainer},s&&f&&M(F,{layout:"northeast",dashed:S})),M("div",{className:l()(d.navFiller,y.navBottomHintContainer)},s&&(f?M(F,{layout:"eastwest",dashed:S}):M("div",{className:l()(y.navBottomHint,y.navBottomBackHint)},M(F,{layout:"northeast",head:"north"})))),j.map((function(t,e){return M(r.Fragment,{key:t.title},M(C,{key:t.id,step:t,type:s&&0===e?"back":e===j.length-1&&c?"sibling":"normal"}),M("div",{className:l()(d.navFiller,y.navBottomHintContainer)},N&&e===j.length-1&&(f?M(F,{layout:"northwest",dashed:S}):M("div",{className:l()(y.navBottomHint,y.navBottomShortcutHint)},M(F,{layout:"eastwest",head:"east"})))))})),M("div",{className:d.navSideButtonContainer})))})))},_=function(t,e){return"exiting"===t&&"down"===e?"further":"exiting"===t&&"up"===e||"entering"===t&&"down"===e?"nearer":"entering"===t&&"up"===e?"further":"same"},A=function(t,e){var n;return l()(y.navBottom,(n={},Object(p.a)(n,y.navBottomDuringEntering,"entering"===t),Object(p.a)(n,y.navBottomDuringExiting,"exiting"===t),Object(p.a)(n,y.navBottomFurther,"further"===e),Object(p.a)(n,y.navBottomNearer,"nearer"===e),Object(p.a)(n,y.navBottomSame,"same"===e),n))},R={navHintShortcut:"navHintShortcut",navHintBack:"navHintBack",navHintYouAreHere:"navHintYouAreHere",navHintHome:"navHintHome"},D=a.a.createElement,L=function(t){var e=t.head,n=t.flush,r=t.southeast,a=t.southwest,o=t.northeast,i=t.northwest,u=t.northsouth,s=t.eastwest;return D("div",{className:l()(N.arrowMultiContainer)},r&&D(F,{flush:n,head:e,layout:"southeast"}),a&&D(F,{flush:n,head:e,layout:"southwest"}),o&&D(F,{flush:n,head:e,layout:"northeast"}),i&&D(F,{flush:n,head:e,layout:"northwest"}),u&&D(F,{flush:n,head:e,layout:"northsouth"}),s&&D(F,{flush:n,head:e,layout:"eastwest"}))},T=a.a.createElement,I=function(t){for(var e=t.nbrOfLinks,n=t.hasBackBtn,r=t.hasShortcut,a=e+(n?1:0),o=2*a-1,i=Math.ceil(o/2),u=[],s=1;s<=o;s++){var c=s<i?"left":s>i?"right":"middle";s%2?u.push(T("div",{key:s,className:d.navButton},q(c,a,n,r))):u.push(T("div",{key:s,className:d.navFiller},W(c,a,n,r)))}return T("div",{className:l()(d.navRow,d.navLinkArrowRow)},T("div",{className:l()(d.navSideButtonContainer,n&&R.navHintBack)},n&&T(F,{layout:"northsouth",dashed:S})),T("div",{className:d.navFiller}),u,T("div",{className:d.navFiller},r&&T(F,{layout:"southeast",dashed:S})),T("div",{className:l()(d.navSideButtonContainer,r&&R.navHintShortcut)},r&&T(F,{layout:"northwest",dashed:S})))},W=function(t,e,n,r){return T(L,{northwest:"middle"===t&&e>1&&!n,northeast:"middle"===t&&e>1&&!r,eastwest:"left"===t&&e>1&&!n||"right"===t&&e>1&&!r})},q=function(t,e,n,r){return T(L,{head:"middle"===t&&(!n||e>1)||"right"===t&&!r||"left"===t&&!n?"south":void 0,northsouth:"middle"===t&&(!n||e>1),northeast:"middle"===t&&e>1&&!r,northwest:"middle"===t&&e>1&&!n,southeast:"left"===t&&!n,southwest:"right"===t&&!r})},K={navStep:"navStep",navStepCurrent:"navStepCurrent",navStepTitle:"navStepTitle",navStepDesc:"navStepDesc",navStepLinkBox:"navStepLinkBox",navStepLinkEntry:"navStepLinkEntry"},Y=a.a.createElement,U=function(t){var e=t.step,n=t.isCurrent,r=t.mute,a=e.title,o=e.desc,i=B({step:e});return Y("div",{className:l()(K.navStep,n&&K.navStepCurrent,n&&R.navHintYouAreHere,r&&d.navMute),onClick:n||r?void 0:i},Y("h4",{className:K.navStepTitle},a),Y("p",{className:K.navStepDesc},o))},J=a.a.createElement,X=function(t){var e=t.step,n=t.mute,r=t.position;return J("div",{className:d.navRow},J($,t),J("div",{className:d.navRowStepContainer},J(U,{step:e,isCurrent:"current"===r,mute:n})),J(z,t))},$=function(t){var e=t.hasBackBtn,n=t.position;return J("div",{className:l()(d.navFiller,d.navFlexLeft)},J("div",{className:d.navSideButtonContainer},e&&"other"!==n&&J(F,{layout:"prior"===n?"southeast":"northsouth",dashed:S})),e&&"prior"===n&&J("div",{className:d.navFiller},J(F,{layout:"eastwest",head:"east",dashed:S})))},z=function(t){var e=t.shortcut,n=t.position,a=t.skipLink,o=t.mute,i=t.step;return e&&"current"===n?J("div",{className:l()(d.navFiller,d.navFlexRight)},J("div",{className:d.navSideButtonContainer},J(F,{layout:"northsouth",dashed:!0}))):J("div",{className:l()(d.navFiller,K.navStepLinkBox)},J("div",{className:d.navFiller}),"current"!==n&&i.links.filter((function(t){return t.title!=a})).map((function(t){return J(r.Fragment,{key:t.title},J("div",{className:K.navStepLinkEntry},J(F,{head:"east",layout:"eastwest"}),J(C,{step:t,mute:o})),J("div",{className:l()(d.navFiller,e&&"prior"===n&&d.navFlexRight)},e&&"prior"===n&&J("div",{className:d.navSideButtonContainer},J(F,{layout:"northsouth",head:"north",dashed:S}))))})))},G=a.a.createElement,Z=function(t){return t.fullNav?G("div",{className:l()(d.navRow,d.navTopRow)},G("div",{className:l()(d.navSideButtonContainer,R.navHintHome)}),G("div",{className:d.navFiller},G(F,{layout:"eastwest",dashed:S})),G("div",{className:d.navSideButtonContainer},G(F,{layout:"southwest",dashed:S})),G("div",{className:d.navFiller}),G("div",{className:d.navSideButtonContainer})):G("div",{className:l()(d.navRow,d.navTopRow)})},Q=a.a.createElement,V=function(t){var e=t.hasBack,n=t.hasShort;return Q("div",{className:l()(d.navRow,d.navBetweenRow)},Q("div",{className:d.navSideButtonContainer},e&&Q(F,{layout:"northsouth",dashed:S})),Q("div",{className:d.navSideButtonContainer},Q(F,{layout:"northsouth",head:"south"})),Q("div",{className:d.navSideButtonContainer},n&&Q(F,{layout:"northsouth",dashed:!0})))},tt=a.a.createElement,et=function(t){var e=t.mute,n=t.shortcut,a=Object(w.g)().nav,o=a.me,i=a.crumbs;return tt(r.Fragment,null,i.map((function(t,a){return tt(r.Fragment,{key:a},tt(X,{step:t,hasBackBtn:!0,shortcut:n,skipLink:a===i.length-1?o.title:i[a+1].title,position:a===i.length-1?"prior":"other",mute:e}),tt(V,{hasBack:a===i.length-1,hasShort:!!n&&a===i.length-1}))})))},nt=a.a.createElement;function rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(n),!0).forEach((function(e){Object(p.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ot=function(t){var e=t.crumbs;return nt("div",{className:l()(d.navHomeBtnContainer,d.navSideButtonContainer)},nt(C,{type:"back",step:at(at({},e[0]),{},{title:"H"})}))},it=a.a.createElement,ut=function(){var t=Object(w.f)(),e=Object(w.g)().isFullscreenNav;return it("div",{className:l()(d.navCompassBtnContainer,d.navSideButtonContainer)},it(C,{active:e,step:{id:"toggleNav",desc:e?"Hide full nav":"Show full nav",title:"N",onClick:function(){return t.setFullscreenNav(!e)},links:[]}}))},st=n("KQm4");function ct(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return lt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lt(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw o}}}}function lt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var vt={},ft=a.a.createElement,ht=function(){var t=Object(w.g)(),e=t.isFullscreenNav,n=t.neverFullscreenNav,a=t.nav,o=function(t){var e=Boolean(t&&t.crumbs.length>0);return{hasCrumbs:e,hasUpBtn:e,shortcut:Object(r.useMemo)((function(){return b(t)}),[t])}}(a),i=o.hasCrumbs,u=o.hasUpBtn,s=o.shortcut;if(function(t){var e=t.nav,n=Object(w.f)();Object(r.useEffect)((function(){if(n.setFullscreenNav(!1),e){var t=e.crumbs.concat(e.me).flatMap((function(t){return[t].concat(Object(st.a)(t.links))}));e.me.url&&(vt[e.me.url]=!0);var r,a=ct(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.url&&o!==e.me&&!vt[o.url]&&(n.prefetch(o.url),vt[o.url]=!0)}}catch(i){a.e(i)}finally{a.f()}}}),[e])}({nav:a}),!a)return ft("div",null);var c=a.crumbs,v=a.me;return ft(r.Fragment,null,ft("div",{className:d.navShadeBottom}),ft("div",{className:l()(d.navContainer,e&&d.navFull,n&&d.navNever,c.length>0&&d.navWithCrumbs)},ft(ot,{crumbs:c}),ft(Z,{fullNav:e&&c.length>0}),ft("div",{className:l()(d.navRow,d.navFiller)},i&&ft(F,{layout:"northsouth",head:"south",dashed:S})),ft("div",null,ft(et,{mute:!e,shortcut:s}),ft(X,{step:v,hasBackBtn:u,shortcut:s,position:"current",mute:!e}),ft(I,{nbrOfLinks:v.links.length,hasBackBtn:u,hasShortcut:!!s}),ft(P,{hasBackBtn:u,hasShortcut:!!s}),ft(ut,null))))},dt=a.a.createElement,pt=function(t){var e=t.children,n=Object(w.g)().isFullscreenNav;return dt(f.a,{className:l()(h.shellContainer,n&&h.shellContainerWithFullNav)},e,dt("div",{className:h.shellNav},dt(ht,{key:"_nav"})))},mt=n("0IYK"),gt=n("Upb4"),bt=n.n(gt),yt=n("TTWC"),wt=a.a.createElement,Bt="/images/composites/",St={last:""},kt=window;i.a.events.on("routeChangeStart",(function(t){var e=t.replace(/sid=[^&]*|&|m=/g,"").replace(/\/?\?/,"/").replace(/\/$/,"").replace(/^$/,"/");kt.ga&&St.last!==e&&(kt.ga("set","page",e),kt.ga("send","pageview"),St.last=e)}));e.default=function(t){var e=t.Component,n=t.pageProps,a=t.router,o=e,i=Object(mt.b)(a),u=Object(mt.a)({router:a,global:kt,initialNav:o.nav}),c=u.actions,l=u.state;Object(r.useEffect)((function(){return c.setNav(o.nav)}),[o]),Object(r.useEffect)((function(){kt.document&&kt.document.body.addEventListener("click",(function(t){var e=t.target;e.matches('a[href^="http"]')&&c.logEvent({action:"linkclick",category:"external",label:e.getAttribute("href")})}))}),[]);var v=Object(r.useMemo)((function(){return(o.preloadImages||[]).map((function(t){return wt("link",{key:t,rel:"preload",as:"image",href:t})}))}),[o.preloadImages]);return wt(r.Fragment,null,wt(s.a,null,o.mainImage&&wt("meta",{property:"og:image",content:o.mainImage}),o.metaDesc&&wt("meta",{property:"og:description",content:o.metaDesc}),o.title&&wt("title",null,o.title),(o.metaTitle||o.title)&&wt("meta",{property:"og:title",content:o.metaTitle||o.title}),v.length>0&&v,wt("link",{rel:"preload",as:"image",href:"".concat(Bt,"about_").concat(bt.a,".png")}),wt("link",{rel:"preload",as:"image",href:"".concat(Bt,"news_").concat(bt.a,".png")}),wt("link",{rel:"preload",as:"image",href:"".concat(Bt,"tags_").concat(bt.a,".png")}),wt("link",{rel:"preload",as:"image",href:"".concat(Bt,"games_").concat(bt.a,".png")}),wt("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"}),wt("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"}),wt("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"}),wt("link",{rel:"manifest",href:"/site.webmanifest"}),wt("link",{rel:"mask-icon",href:"/safari-pinned-tab.svg",color:"#5bbad5"})),wt(yt.a.Provider,{value:a},wt(w.a.Provider,{value:c},wt(w.b.Provider,{value:l},wt(w.c.Provider,{value:i},wt(pt,null,wt(e,n)))))))}},g4pe:function(t,e,n){t.exports=n("8Kt/")},lSNA:function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},lwAK:function(t,e,n){"use strict";var r;e.__esModule=!0,e.AmpStateContext=void 0;var a=((r=n("ERkP"))&&r.__esModule?r:{default:r}).default.createContext({});e.AmpStateContext=a}},[[0,1,0,2,4,5]]]);