_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[219],{SVIC:function(t,e,n){"use strict";n.d(e,"b",(function(){return r}));var r={initial:{unit1:{pos:"d2",x:4,y:2,id:"unit1",group:"toads",owner:1},unit2:{pos:"d3",x:4,y:3,id:"unit2",group:"toads",owner:1},unit3:{pos:"e2",x:5,y:2,id:"unit3",group:"toads",owner:1},unit4:{pos:"e3",x:5,y:3,id:"unit4",group:"toads",owner:1},unit5:{pos:"d6",x:4,y:6,id:"unit5",group:"toads",owner:2},unit6:{pos:"d7",x:4,y:7,id:"unit6",group:"toads",owner:2},unit7:{pos:"e6",x:5,y:6,id:"unit7",group:"toads",owner:2},unit8:{pos:"e7",x:5,y:7,id:"unit8",group:"toads",owner:2}},patches:[{unit3:{pos:["e2","c4"]}},{spawn1:[{pos:"c3",id:"spawn1",group:"toads",owner:1}]},{unit6:{pos:["d7","d5"]}},{spawn2:[{pos:"c6",id:"spawn2",group:"toads",owner:2}]},{unit6:{pos:["d5","d7"]}},{spawn3:[{pos:"c7",id:"spawn3",group:"toads",owner:2}]},{unit1:{pos:["d2","d4"]}},{unit1:{pos:["d4","b4"]}},{spawn4:[{pos:"b3",id:"spawn4",group:"toads",owner:1}]},{spawn3:{pos:["c7","e5"]}},{spawn5:[{pos:"f5",id:"spawn5",group:"toads",owner:2}]},{spawn1:{pos:["c3","c5"]}},{spawn1:{pos:["c5","c7"]},spawn2:[{pos:"c6",id:"spawn2",group:"toads",owner:2},0,0]},{unit8:{pos:["e7","c5"]}},{unit3:[{pos:"c4",x:5,y:2,id:"unit3",group:"toads",owner:1},0,0],unit8:{pos:["c5","c3"]}},{unit8:{pos:["c3","a3"]},spawn4:[{pos:"b3",id:"spawn4",group:"toads",owner:1},0,0]},{unit6:[{pos:"d7",x:4,y:7,id:"unit6",group:"toads",owner:2},0,0],spawn1:{pos:["c7","e7"]}},{unit7:{pos:["e6","e4"]}},{unit4:[{pos:"e3",x:5,y:3,id:"unit4",group:"toads",owner:1},0,0],unit7:{pos:["e4","e2"]}}],anims:{2:{enterFrom:{c3:"c4"}},4:{enterFrom:{c6:"d5"}},6:{enterFrom:{c7:"d7"}},9:{enterFrom:{b3:"b4"}},11:{enterFrom:{f5:"e5"}}},endHighlight:["d6","e2","a3","e5","f5"]};e.a=r},"o/+m":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/sapos",function(){return n("zZX1")}])},zZX1:function(t,e,n){"use strict";n.r(e),n.d(e,"Game",(function(){return x}));var r=n("ERkP"),s=n.n(r),o=n("rePB"),a=n("cDpP");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,s=function(){};return{s:s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){i=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var T,A,l,d,m={},g={toads:"pawn"},R={toads:[["units","toads"],["units","myunits","toads"],["units","oppunits","toads"]]},S={toads:[["units","toads"],["units","oppunits","toads"],["units","myunits","toads"]]},f={gameId:"sapos",commands:{hop:{},jump:{},spawn:{}},iconMap:g,setBoard:function(t){Object(a.P)(t,1),Object(a.P)(t,2),d={height:t.height,width:t.width},l=Object(a.e)(d),T=Object(a.d)(t),A=Object(a.A)(t)},newBattle:function(t,e){var n=Object(a.M)(t),r={units:{},myunits:{},oppunits:{},toads:{}};for(var s in n){var o,i=n[s],u=i.group,c=i.pos,T=i.owner,A=p(S[u][T]);try{for(A.s();!(o=A.n()).done;){r[o.value][c]=i}}catch(l){A.e(l)}finally{A.f()}}return f.action["startTurn_".concat(e,"_1")]({NEXTSPAWNID:1,BATTLEVARS:{plr1:12,plr2:12},TURN:0,UNITDATA:n,UNITLAYERS:r})},action:{startTurn_basic_1:function(t){var e={knot:{},forbidden:{}},n=t.UNITLAYERS,r={units:n.units,myunits:n.oppunits,oppunits:n.myunits,toads:n.toads},s={marks:{},commands:{}};for(var o in r.myunits){for(var a=[],i=T[o],u=0,p=[1,2,3];u<p.length;u++){var c=i[p[u]];c&&r.myunits[c]&&a.push(c)}for(var A=a.length,l=0;l<A;l++){var d=a[l];3===A&&(e.knot[d]=m)}e.forbidden[o]=m,3===A&&(e.knot[o]=m)}for(var g=0,R=Object.keys(0===Object.keys(e.knot).length?r.myunits:e.knot);g<R.length;g++){var S=R[g];s.marks[S]="selectunit_basic_1"}return{UNITDATA:t.UNITDATA,LINKS:s,UNITLAYERS:r,ARTIFACTS:e,MARKS:{},TURN:t.TURN+1,NEXTSPAWNID:t.NEXTSPAWNID,TURNVARS:{},BATTLEVARS:t.BATTLEVARS}},startTurn_basic_2:function(t){var e={knot:{},forbidden:{}},n=t.UNITLAYERS,r={units:n.units,myunits:n.oppunits,oppunits:n.myunits,toads:n.toads},s={marks:{},commands:{}};for(var o in r.myunits){for(var a=[],i=T[o],u=0,p=[1,2,3];u<p.length;u++){var c=i[p[u]];c&&r.myunits[c]&&a.push(c)}for(var A=a.length,l=0;l<A;l++){var d=a[l];3===A&&(e.knot[d]=m)}e.forbidden[o]=m,3===A&&(e.knot[o]=m)}for(var g=0,R=Object.keys(0===Object.keys(e.knot).length?r.myunits:e.knot);g<R.length;g++){var S=R[g];s.marks[S]="selectunit_basic_2"}return{UNITDATA:t.UNITDATA,LINKS:s,UNITLAYERS:r,ARTIFACTS:e,MARKS:{},TURN:t.TURN,NEXTSPAWNID:t.NEXTSPAWNID,TURNVARS:{},BATTLEVARS:t.BATTLEVARS}},selectunit_basic_1:function(t,e){var n={knot:t.ARTIFACTS.knot,forbidden:t.ARTIFACTS.forbidden,hoptargets:{},jumptargets:{}},r={marks:{},commands:{}},s={selectunit:e},o=t.TURNVARS,i=t.UNITLAYERS;n.knot={},n.hoptargets={};var u,c=i.myunits,A=Object.keys(l.board).filter((function(t){return!i.units.hasOwnProperty(t)})).reduce((function(t,e){return t[e]=m,t}),{}),d=p(a.J);try{for(d.s();!(u=d.n()).done;){for(var g=u.value,R=[],S=o.skippedto||s.selectunit;!((S=T[S][g])?A[S]?"hitblock":c[S]?null:"nomoresteps":"outofbounds");)R.push(S);var f=R.length;A[S]&&(1!==f||n.forbidden[S]||(n.hoptargets[S]=m))}}catch(L){d.e(L)}finally{d.f()}var b,h=i.oppunits,N=Object.keys(l.board).filter((function(t){return!i.units.hasOwnProperty(t)})).reduce((function(t,e){return t[e]=m,t}),{}),v=p(a.D);try{for(v.s();!(b=v.n()).done;){for(var j=b.value,I=[],y=o.skippedto||s.selectunit;!((y=T[y][j])?N[y]?"hitblock":h[y]?null:"nomoresteps":"outofbounds");)I.push(y);var k=I.length;N[y]&&1===k&&(n.jumptargets[y]={dir:j})}}catch(L){v.e(L)}finally{v.f()}for(var w=0,U=Object.keys(n.hoptargets);w<U.length;w++){var _=U[w];r.marks[_]="selecthoptarget_basic_1"}for(var E=0,O=Object.keys(n.jumptargets);E<O.length;E++){var x=O[E];r.marks[x]="selectjumptarget_basic_1"}return{LINKS:r,ARTIFACTS:n,UNITLAYERS:i,UNITDATA:t.UNITDATA,TURN:t.TURN,MARKS:s,TURNVARS:o,BATTLEVARS:t.BATTLEVARS,NEXTSPAWNID:t.NEXTSPAWNID}},selecthoptarget_basic_1:function(t,e){var n={knot:t.ARTIFACTS.knot,forbidden:t.ARTIFACTS.forbidden,hoptargets:t.ARTIFACTS.hoptargets,jumptargets:t.ARTIFACTS.jumptargets},r={marks:{},commands:{}};return n.jumpvictims={},n.jumptargets={},r.commands.hop="hop_basic_1",{LINKS:r,ARTIFACTS:n,UNITLAYERS:t.UNITLAYERS,UNITDATA:t.UNITDATA,TURN:t.TURN,MARKS:{selectunit:t.MARKS.selectunit,selecthoptarget:e},TURNVARS:t.TURNVARS,BATTLEVARS:t.BATTLEVARS,NEXTSPAWNID:t.NEXTSPAWNID}},selectjumptarget_basic_1:function(t,e){var n={knot:t.ARTIFACTS.knot,forbidden:t.ARTIFACTS.forbidden,hoptargets:t.ARTIFACTS.hoptargets,jumptargets:t.ARTIFACTS.jumptargets,jumpvictims:{}},r={marks:{},commands:{}},s={selectunit:t.MARKS.selectunit,selectjumptarget:e};n.jumpvictims={};var o=T[s.selectjumptarget][A[5][(n.jumptargets[s.selectjumptarget]||{}).dir]];return o&&(n.jumpvictims[o]=m),r.commands.jump="jump_basic_1",{LINKS:r,ARTIFACTS:n,UNITLAYERS:t.UNITLAYERS,UNITDATA:t.UNITDATA,TURN:t.TURN,MARKS:s,TURNVARS:t.TURNVARS,BATTLEVARS:t.BATTLEVARS,NEXTSPAWNID:t.NEXTSPAWNID,canAlwaysEnd:!0}},selectspawntarget_basic_1:function(t,e){var n={marks:{},commands:{}};return n.commands.spawn="spawn_basic_1",{LINKS:n,ARTIFACTS:t.ARTIFACTS,UNITLAYERS:t.UNITLAYERS,UNITDATA:t.UNITDATA,TURN:t.TURN,MARKS:{selectspawntarget:e},TURNVARS:t.TURNVARS,BATTLEVARS:t.BATTLEVARS,NEXTSPAWNID:t.NEXTSPAWNID,canAlwaysEnd:!0}},selectunit_basic_2:function(t,e){var n={knot:t.ARTIFACTS.knot,forbidden:t.ARTIFACTS.forbidden,hoptargets:{},jumptargets:{}},r={marks:{},commands:{}},s={selectunit:e},o=t.TURNVARS,i=t.UNITLAYERS,u=t.TURN;n.knot={},n.hoptargets={};var c,A=i.myunits,d=Object.keys(l.board).filter((function(t){return!i.units.hasOwnProperty(t)})).reduce((function(t,e){return t[e]=m,t}),{}),g=p(a.J);try{for(g.s();!(c=g.n()).done;){for(var R=c.value,S=[],f=o.skippedto||s.selectunit;!((f=T[f][R])?d[f]?"hitblock":A[f]?null:"nomoresteps":"outofbounds");)S.push(f);var b=S.length;d[f]&&(1!==b||n.forbidden[f]||(n.hoptargets[f]=m))}}catch(F){g.e(F)}finally{g.f()}if(1!==u){var h,N=i.oppunits,v=Object.keys(l.board).filter((function(t){return!i.units.hasOwnProperty(t)})).reduce((function(t,e){return t[e]=m,t}),{}),j=p(a.D);try{for(j.s();!(h=j.n()).done;){for(var I=h.value,y=[],k=o.skippedto||s.selectunit;!((k=T[k][I])?v[k]?"hitblock":N[k]?null:"nomoresteps":"outofbounds");)y.push(k);var w=y.length;v[k]&&1===w&&(n.jumptargets[k]={dir:I})}}catch(F){j.e(F)}finally{j.f()}}for(var U=0,_=Object.keys(n.hoptargets);U<_.length;U++){var E=_[U];r.marks[E]="selecthoptarget_basic_2"}for(var O=0,x=Object.keys(n.jumptargets);O<x.length;O++){var L=x[O];r.marks[L]="selectjumptarget_basic_2"}return{LINKS:r,ARTIFACTS:n,UNITLAYERS:i,UNITDATA:t.UNITDATA,TURN:u,MARKS:s,TURNVARS:o,BATTLEVARS:t.BATTLEVARS,NEXTSPAWNID:t.NEXTSPAWNID}},selecthoptarget_basic_2:function(t,e){var n={knot:t.ARTIFACTS.knot,forbidden:t.ARTIFACTS.forbidden,hoptargets:t.ARTIFACTS.hoptargets,jumptargets:t.ARTIFACTS.jumptargets},r={marks:{},commands:{}};return n.jumpvictims={},n.jumptargets={},r.commands.hop="hop_basic_2",{LINKS:r,ARTIFACTS:n,UNITLAYERS:t.UNITLAYERS,UNITDATA:t.UNITDATA,TURN:t.TURN,MARKS:{selectunit:t.MARKS.selectunit,selecthoptarget:e},TURNVARS:t.TURNVARS,BATTLEVARS:t.BATTLEVARS,NEXTSPAWNID:t.NEXTSPAWNID}},selectjumptarget_basic_2:function(t,e){var n={knot:t.ARTIFACTS.knot,forbidden:t.ARTIFACTS.forbidden,hoptargets:t.ARTIFACTS.hoptargets,jumptargets:t.ARTIFACTS.jumptargets,jumpvictims:{}},r={marks:{},commands:{}},s={selectunit:t.MARKS.selectunit,selectjumptarget:e};n.jumpvictims={};var o=T[s.selectjumptarget][A[5][(n.jumptargets[s.selectjumptarget]||{}).dir]];return o&&(n.jumpvictims[o]=m),r.commands.jump="jump_basic_2",{LINKS:r,ARTIFACTS:n,UNITLAYERS:t.UNITLAYERS,UNITDATA:t.UNITDATA,TURN:t.TURN,MARKS:s,TURNVARS:t.TURNVARS,BATTLEVARS:t.BATTLEVARS,NEXTSPAWNID:t.NEXTSPAWNID,canAlwaysEnd:!0}},selectspawntarget_basic_2:function(t,e){var n={marks:{},commands:{}};return n.commands.spawn="spawn_basic_2",{LINKS:n,ARTIFACTS:t.ARTIFACTS,UNITLAYERS:t.UNITLAYERS,UNITDATA:t.UNITDATA,TURN:t.TURN,MARKS:{selectspawntarget:e},TURNVARS:t.TURNVARS,BATTLEVARS:t.BATTLEVARS,NEXTSPAWNID:t.NEXTSPAWNID,canAlwaysEnd:!0}},hop_basic_1:function(t){var e={marks:{},commands:{}},n={forbidden:u({},t.ARTIFACTS.forbidden),hoptargets:u({},t.ARTIFACTS.hoptargets),jumptargets:u({},t.ARTIFACTS.jumptargets),knot:t.ARTIFACTS.knot,spawns:{}},r=t.UNITLAYERS,s=u({},t.TURNVARS),o=t.BATTLEVARS,i=u({},t.UNITDATA),c=t.MARKS;n.hoptargets={};var A=(r.units[c.selectunit||s.skippedto]||{}).id;for(var d in A&&(i[A]=u(u({},i[A]),{},{pos:c.selecthoptarget})),s.skippedto=c.selecthoptarget,r={units:{},myunits:{},oppunits:{},toads:{}},i){var g,S=i[d],f=S.group,b=S.pos,h=S.owner,N=p(R[f][h]);try{for(N.s();!(g=N.n()).done;){var v=g.value;r[v][b]=S}}catch(tt){N.e(tt)}finally{N.f()}}var j,I=r.myunits,y=Object.keys(l.board).filter((function(t){return!r.units.hasOwnProperty(t)})).reduce((function(t,e){return t[e]=m,t}),{}),k=p(a.J);try{for(k.s();!(j=k.n()).done;){for(var w=j.value,U=[],_=s.skippedto||c.selectunit;!((_=T[_][w])?y[_]?"hitblock":I[_]?null:"nomoresteps":"outofbounds");)U.push(_);var E=U.length;y[_]&&(1!==E||n.forbidden[_]||(n.hoptargets[_]=m))}}catch(tt){k.e(tt)}finally{k.f()}var O,x=s.skippedto,L=T[x],F=p(a.J);try{for(F.s();!(O=F.n()).done;){var C=L[O.value];C&&!r.units[C]&&(n.spawns[C]=m)}}catch(tt){F.e(tt)}finally{F.f()}n.forbidden[x]=m;var D,P=r.oppunits,V=Object.keys(l.board).filter((function(t){return!r.units.hasOwnProperty(t)})).reduce((function(t,e){return t[e]=m,t}),{}),K=p(a.D);try{for(K.s();!(D=K.n()).done;){for(var Y=D.value,B=[],M=s.skippedto||c.selectunit;!((M=T[M][Y])?V[M]?"hitblock":P[M]?null:"nomoresteps":"outofbounds");)B.push(M);var X=B.length;V[M]&&1===X&&(n.jumptargets[M]={dir:Y})}}catch(tt){K.e(tt)}finally{K.f()}if(o.plr1)for(var W=0,J=Object.keys(n.spawns);W<J.length;W++){var q=J[W];e.marks[q]="selectspawntarget_basic_1"}for(var z=0,Z=Object.keys(n.hoptargets);z<Z.length;z++){var H=Z[z];e.marks[H]="selecthoptarget_basic_1"}for(var G=0,$=Object.keys(n.jumptargets);G<$.length;G++){var Q=$[G];e.marks[Q]="selectjumptarget_basic_1"}return{LINKS:e,MARKS:{},ARTIFACTS:n,TURN:t.TURN,UNITDATA:i,UNITLAYERS:r,TURNVARS:s,BATTLEVARS:o,NEXTSPAWNID:t.NEXTSPAWNID}},jump_basic_1:function(t){var e={marks:{},commands:{}},n={jumptargets:u({},t.ARTIFACTS.jumptargets),knot:t.ARTIFACTS.knot,forbidden:t.ARTIFACTS.forbidden,hoptargets:t.ARTIFACTS.hoptargets,jumpvictims:t.ARTIFACTS.jumpvictims},r=t.UNITLAYERS,s=u({},t.TURNVARS),o=u({},t.BATTLEVARS),i=u({},t.UNITDATA),c=t.MARKS;n.jumptargets={};var A=(r.units[c.selectunit||s.skippedto]||{}).id;for(var d in A&&(i[A]=u(u({},i[A]),{},{pos:c.selectjumptarget})),delete i[(r.units[Object.keys(n.jumpvictims)[0]]||{}).id],o.plr1=(o.plr1||0)+1,o.plr2=(o.plr2||0)+-1,s.skippedto=c.selectjumptarget,r={units:{},myunits:{},oppunits:{},toads:{}},i){var g,S=i[d],f=S.group,b=S.pos,h=S.owner,N=p(R[f][h]);try{for(N.s();!(g=N.n()).done;){var v=g.value;r[v][b]=S}}catch(F){N.e(F)}finally{N.f()}}var j,I=r.oppunits,y=Object.keys(l.board).filter((function(t){return!r.units.hasOwnProperty(t)})).reduce((function(t,e){return t[e]=m,t}),{}),k=p(a.D);try{for(k.s();!(j=k.n()).done;){for(var w=j.value,U=[],_=s.skippedto||c.selectunit;!((_=T[_][w])?y[_]?"hitblock":I[_]?null:"nomoresteps":"outofbounds");)U.push(_);var E=U.length;y[_]&&1===E&&(n.jumptargets[_]={dir:w})}}catch(F){k.e(F)}finally{k.f()}for(var O=0,x=Object.keys(n.jumptargets);O<x.length;O++){var L=x[O];e.marks[L]="selectjumptarget_basic_1"}return e.endTurn="startTurn_basic_2",{LINKS:e,MARKS:{},ARTIFACTS:n,TURN:t.TURN,UNITDATA:i,UNITLAYERS:r,TURNVARS:s,BATTLEVARS:o,NEXTSPAWNID:t.NEXTSPAWNID}},spawn_basic_1:function(t){var e={marks:{},commands:{}},n={enterFrom:{},exitTo:{},ghosts:[]},r={knot:t.ARTIFACTS.knot,forbidden:t.ARTIFACTS.forbidden,hoptargets:t.ARTIFACTS.hoptargets,jumptargets:t.ARTIFACTS.jumptargets,spawns:t.ARTIFACTS.spawns},s=t.UNITLAYERS,o=t.TURNVARS,a=u({},t.BATTLEVARS),i=u({},t.UNITDATA),c=t.NEXTSPAWNID,T=t.MARKS;r.jumptargets={},r.knot={},r.hoptargets={},r.forbidden={},n.enterFrom[T.selectspawntarget]=o.skippedto;var A="spawn"+c++;for(var l in i[A]={pos:T.selectspawntarget,id:A,group:"toads",owner:1},a.plr1=(a.plr1||0)+-1,s={units:{},myunits:{},oppunits:{},toads:{}},i){var d,m=i[l],g=m.group,S=m.pos,f=m.owner,b=p(R[g][f]);try{for(b.s();!(d=b.n()).done;){s[d.value][S]=m}}catch(h){b.e(h)}finally{b.f()}}return e.endTurn="startTurn_basic_2",{LINKS:e,MARKS:{},ARTIFACTS:r,TURN:t.TURN,UNITDATA:i,UNITLAYERS:s,TURNVARS:o,BATTLEVARS:a,NEXTSPAWNID:c,anim:n}},hop_basic_2:function(t){var e={marks:{},commands:{}},n={forbidden:u({},t.ARTIFACTS.forbidden),hoptargets:u({},t.ARTIFACTS.hoptargets),jumptargets:u({},t.ARTIFACTS.jumptargets),knot:t.ARTIFACTS.knot,spawns:{}},r=t.UNITLAYERS,s=u({},t.TURNVARS),o=t.BATTLEVARS,i=u({},t.UNITDATA),c=t.TURN,A=t.MARKS;n.hoptargets={};var d=(r.units[A.selectunit||s.skippedto]||{}).id;for(var g in d&&(i[d]=u(u({},i[d]),{},{pos:A.selecthoptarget})),s.skippedto=A.selecthoptarget,r={units:{},myunits:{},oppunits:{},toads:{}},i){var R,f=i[g],b=f.group,h=f.pos,N=f.owner,v=p(S[b][N]);try{for(v.s();!(R=v.n()).done;){var j=R.value;r[j][h]=f}}catch(et){v.e(et)}finally{v.f()}}var I,y=r.myunits,k=Object.keys(l.board).filter((function(t){return!r.units.hasOwnProperty(t)})).reduce((function(t,e){return t[e]=m,t}),{}),w=p(a.J);try{for(w.s();!(I=w.n()).done;){for(var U=I.value,_=[],E=s.skippedto||A.selectunit;!((E=T[E][U])?k[E]?"hitblock":y[E]?null:"nomoresteps":"outofbounds");)_.push(E);var O=_.length;k[E]&&(1!==O||n.forbidden[E]||(n.hoptargets[E]=m))}}catch(et){w.e(et)}finally{w.f()}var x,L=s.skippedto,F=T[L],C=p(a.J);try{for(C.s();!(x=C.n()).done;){var D=F[x.value];D&&!r.units[D]&&(n.spawns[D]=m)}}catch(et){C.e(et)}finally{C.f()}n.forbidden[L]=m;var P,V=r.oppunits,K=Object.keys(l.board).filter((function(t){return!r.units.hasOwnProperty(t)})).reduce((function(t,e){return t[e]=m,t}),{}),Y=p(a.D);try{for(Y.s();!(P=Y.n()).done;){for(var B=P.value,M=[],X=s.skippedto||A.selectunit;!((X=T[X][B])?K[X]?"hitblock":V[X]?null:"nomoresteps":"outofbounds");)M.push(X);var W=M.length;K[X]&&1===W&&(n.jumptargets[X]={dir:B})}}catch(et){Y.e(et)}finally{Y.f()}if(o.plr2)for(var J=0,q=Object.keys(n.spawns);J<q.length;J++){var z=q[J];e.marks[z]="selectspawntarget_basic_2"}for(var Z=0,H=Object.keys(n.hoptargets);Z<H.length;Z++){var G=H[Z];e.marks[G]="selecthoptarget_basic_2"}if(1!==c)for(var $=0,Q=Object.keys(n.jumptargets);$<Q.length;$++){var tt=Q[$];e.marks[tt]="selectjumptarget_basic_2"}return{LINKS:e,MARKS:{},ARTIFACTS:n,TURN:c,UNITDATA:i,UNITLAYERS:r,TURNVARS:s,BATTLEVARS:o,NEXTSPAWNID:t.NEXTSPAWNID}},jump_basic_2:function(t){var e={marks:{},commands:{}},n={jumptargets:u({},t.ARTIFACTS.jumptargets),knot:t.ARTIFACTS.knot,forbidden:t.ARTIFACTS.forbidden,hoptargets:t.ARTIFACTS.hoptargets,jumpvictims:t.ARTIFACTS.jumpvictims},r=t.UNITLAYERS,s=u({},t.TURNVARS),o=u({},t.BATTLEVARS),i=u({},t.UNITDATA),c=t.MARKS;n.jumptargets={};var A=(r.units[c.selectunit||s.skippedto]||{}).id;for(var d in A&&(i[A]=u(u({},i[A]),{},{pos:c.selectjumptarget})),delete i[(r.units[Object.keys(n.jumpvictims)[0]]||{}).id],o.plr2=(o.plr2||0)+1,o.plr1=(o.plr1||0)+-1,s.skippedto=c.selectjumptarget,r={units:{},myunits:{},oppunits:{},toads:{}},i){var g,R=i[d],f=R.group,b=R.pos,h=R.owner,N=p(S[f][h]);try{for(N.s();!(g=N.n()).done;){var v=g.value;r[v][b]=R}}catch(F){N.e(F)}finally{N.f()}}var j,I=r.oppunits,y=Object.keys(l.board).filter((function(t){return!r.units.hasOwnProperty(t)})).reduce((function(t,e){return t[e]=m,t}),{}),k=p(a.D);try{for(k.s();!(j=k.n()).done;){for(var w=j.value,U=[],_=s.skippedto||c.selectunit;!((_=T[_][w])?y[_]?"hitblock":I[_]?null:"nomoresteps":"outofbounds");)U.push(_);var E=U.length;y[_]&&1===E&&(n.jumptargets[_]={dir:w})}}catch(F){k.e(F)}finally{k.f()}for(var O=0,x=Object.keys(n.jumptargets);O<x.length;O++){var L=x[O];e.marks[L]="selectjumptarget_basic_2"}return e.endTurn="startTurn_basic_1",{LINKS:e,MARKS:{},ARTIFACTS:n,TURN:t.TURN,UNITDATA:i,UNITLAYERS:r,TURNVARS:s,BATTLEVARS:o,NEXTSPAWNID:t.NEXTSPAWNID}},spawn_basic_2:function(t){var e={marks:{},commands:{}},n={enterFrom:{},exitTo:{},ghosts:[]},r={knot:t.ARTIFACTS.knot,forbidden:t.ARTIFACTS.forbidden,hoptargets:t.ARTIFACTS.hoptargets,jumptargets:t.ARTIFACTS.jumptargets,spawns:t.ARTIFACTS.spawns},s=t.UNITLAYERS,o=u({},t.TURNVARS),a=u({},t.BATTLEVARS),i=u({},t.UNITDATA),c=t.NEXTSPAWNID,T=t.TURN,A=t.MARKS;r.jumptargets={},r.knot={},r.hoptargets={},r.forbidden={},n.enterFrom[A.selectspawntarget]=o.skippedto;var l="spawn"+c++;for(var d in i[l]={pos:A.selectspawntarget,id:l,group:"toads",owner:2},a.plr2=(a.plr2||0)+-1,o.spawns=(o.spawns||0)+1,o.skippedto=0,s={units:{},myunits:{},oppunits:{},toads:{}},i){var m,g=i[d],R=g.group,f=g.pos,b=g.owner,h=p(S[R][b]);try{for(h.s();!(m=h.n()).done;){s[m.value][f]=g}}catch(I){h.e(I)}finally{h.f()}}if(1===T&&1===o.spawns)for(var N=0,v=Object.keys(0===Object.keys(r.knot).length?s.myunits:r.knot);N<v.length;N++){var j=v[N];e.marks[j]="selectunit_basic_2"}else e.endTurn="startTurn_basic_1";return{LINKS:e,MARKS:{},ARTIFACTS:r,TURN:T,UNITDATA:i,UNITLAYERS:s,TURNVARS:o,BATTLEVARS:a,NEXTSPAWNID:c,anim:n}}},instruction:{startTurn_basic_1:function(t){var e=t.BATTLEVARS,n=t.ARTIFACTS;return Object(a.g)({line:[Object(a.g)({line:[{text:"Your reserve is"},{text:e.plr1},{text:"and"},{player:2},{text:"has"},{text:e.plr2},{text:"."}]}),0===Object.keys(n.knot).length?Object(a.g)({line:[{text:"Select a"},{unittype:["pawn",1]},{text:"to hop"},{text:"or jump"},{text:"with"}]}):Object(a.g)({line:[{text:"Select a"},{unittype:["pawn",1]},{text:"in the knot to hop"},{text:"or jump"},{text:"with"}]})]})},hop_basic_1:function(t){var e=t.ARTIFACTS;return Object(a.g)({line:[{select:"Select"},Object(a.g)({line:[0!==Object.keys(e.hoptargets).length?{text:"a subsequent hop"}:void 0,0!==Object.keys(e.jumptargets).length?{text:"a jump"}:void 0,0!==Object.keys(e.spawns).length?Object(a.g)({line:[{text:"where to spawn a new"},{unittype:["pawn",1]}]}):void 0].filter((function(t){return!!t})).reduce((function(t,e,n,r){return t.push(e),n===r.length-2?t.push({text:" or "}):n<r.length-2&&t.push({text:", "}),t}),[])})]})},jump_basic_1:function(t){var e=t.ARTIFACTS;return 0===Object.keys(e.jumptargets).length?Object(a.g)({line:[{text:"Press"},{endTurn:"end turn"},{text:"to submit your moves and hand over to"},{player:2}]}):Object(a.g)({line:[{text:"Select a subsequent jump or press"},{endTurn:"end turn"},{text:"to hand over to"},{player:2}]})},spawn_basic_1:function(t){return Object(a.g)({line:[{text:"Press"},{endTurn:"end turn"},{text:"to submit your moves and hand over to"},{player:2}]})},selectunit_basic_1:function(t){var e=t.MARKS,n=t.UNITLAYERS;return Object(a.g)({line:[{text:"Select a"},{unittype:["pawn",1]},{text:"or"},{unittype:["pawn",2]},{text:"for"},{unit:[g[(n.units[e.selectunit]||{}).group],(n.units[e.selectunit]||{}).owner,e.selectunit]},{text:"to hop or jump over"}]})},selecthoptarget_basic_1:function(t){var e=t.TURNVARS,n=t.MARKS,r=t.UNITLAYERS;return Object(a.g)({line:[{text:"Press"},{command:"hop"},{text:"to move"},{unit:[g[(r.units[e.skippedto||n.selectunit]||{}).group],(r.units[e.skippedto||n.selectunit]||{}).owner,e.skippedto||n.selectunit]},{text:"to"},{pos:n.selecthoptarget}]})},selectjumptarget_basic_1:function(t){var e=t.TURNVARS,n=t.ARTIFACTS,r=t.MARKS,s=t.UNITLAYERS;return Object(a.g)({line:[{text:"Press"},{command:"jump"},{text:"to make"},{unit:[g[(s.units[e.skippedto||r.selectunit]||{}).group],(s.units[e.skippedto||r.selectunit]||{}).owner,e.skippedto||r.selectunit]},{text:"jump to"},{pos:r.selectjumptarget},{text:"and steal"},Object(a.g)({line:Object.keys(n.jumpvictims).filter((function(t){return s.units[t]})).map((function(t){return{unit:[g[s.units[t].group],s.units[t].owner,t]}})).reduce((function(t,e,n,r){return t.push(e),n===r.length-2?t.push({text:" and "}):n<r.length-2&&t.push({text:", "}),t}),[])}),{text:"to your reserve"}]})},selectspawntarget_basic_1:function(t){var e=t.MARKS;return Object(a.g)({line:[{text:"Press"},{command:"spawn"},{text:"to place"},{unit:["pawn",1,e.selectspawntarget]},{text:"from your reserve"}]})},startTurn_basic_2:function(t){var e=t.BATTLEVARS,n=t.ARTIFACTS,r=t.TURN;return Object(a.g)({line:[Object(a.g)({line:[{text:"Your reserve is"},{text:e.plr2},{text:"and"},{player:1},{text:"has"},{text:e.plr1},{text:"."}]}),0===Object.keys(n.knot).length?Object(a.g)({line:[{text:"Select a"},{unittype:["pawn",2]},{text:"to hop"},1!==r?{text:"or jump"}:void 0,{text:"with"}]}):Object(a.g)({line:[{text:"Select a"},{unittype:["pawn",2]},{text:"in the knot to hop"},1!==r?{text:"or jump"}:void 0,{text:"with"}]})]})},hop_basic_2:function(t){var e=t.ARTIFACTS,n=t.TURN;return Object(a.g)({line:[{select:"Select"},Object(a.g)({line:[0!==Object.keys(e.hoptargets).length?{text:"a subsequent hop"}:void 0,1!==n&&0!==Object.keys(e.jumptargets).length?{text:"a jump"}:void 0,0!==Object.keys(e.spawns).length?Object(a.g)({line:[{text:"where to spawn a new"},{unittype:["pawn",2]}]}):void 0].filter((function(t){return!!t})).reduce((function(t,e,n,r){return t.push(e),n===r.length-2?t.push({text:" or "}):n<r.length-2&&t.push({text:", "}),t}),[])})]})},jump_basic_2:function(t){var e=t.ARTIFACTS;return 0===Object.keys(e.jumptargets).length?Object(a.g)({line:[{text:"Press"},{endTurn:"end turn"},{text:"to submit your moves and hand over to"},{player:1}]}):Object(a.g)({line:[{text:"Select a subsequent jump or press"},{endTurn:"end turn"},{text:"to hand over to"},{player:1}]})},spawn_basic_2:function(t){var e=t.TURNVARS,n=t.TURN;return 1===e.spawns&&1===n?Object(a.g)({line:[{text:"In the first turn"},{player:2},{text:"has to hop again!"}]}):Object(a.g)({line:[{text:"Press"},{endTurn:"end turn"},{text:"to submit your moves and hand over to"},{player:1}]})},selectunit_basic_2:function(t){var e=t.MARKS,n=t.UNITLAYERS;return 1===t.TURN?Object(a.g)({line:[{text:"Select a"},{unittype:["pawn",2]},{text:"for"},{unit:[g[(n.units[e.selectunit]||{}).group],(n.units[e.selectunit]||{}).owner,e.selectunit]},{text:"to hop over"}]}):Object(a.g)({line:[{text:"Select a"},{unittype:["pawn",2]},{text:"or"},{unittype:["pawn",1]},{text:"for"},{unit:[g[(n.units[e.selectunit]||{}).group],(n.units[e.selectunit]||{}).owner,e.selectunit]},{text:"to hop or jump over"}]})},selecthoptarget_basic_2:function(t){var e=t.TURNVARS,n=t.MARKS,r=t.UNITLAYERS;return Object(a.g)({line:[{text:"Press"},{command:"hop"},{text:"to move"},{unit:[g[(r.units[e.skippedto||n.selectunit]||{}).group],(r.units[e.skippedto||n.selectunit]||{}).owner,e.skippedto||n.selectunit]},{text:"to"},{pos:n.selecthoptarget}]})},selectjumptarget_basic_2:function(t){var e=t.TURNVARS,n=t.ARTIFACTS,r=t.MARKS,s=t.UNITLAYERS;return Object(a.g)({line:[{text:"Press"},{command:"jump"},{text:"to make"},{unit:[g[(s.units[e.skippedto||r.selectunit]||{}).group],(s.units[e.skippedto||r.selectunit]||{}).owner,e.skippedto||r.selectunit]},{text:"jump to"},{pos:r.selectjumptarget},{text:"and steal"},Object(a.g)({line:Object.keys(n.jumpvictims).filter((function(t){return s.units[t]})).map((function(t){return{unit:[g[s.units[t].group],s.units[t].owner,t]}})).reduce((function(t,e,n,r){return t.push(e),n===r.length-2?t.push({text:" and "}):n<r.length-2&&t.push({text:", "}),t}),[])}),{text:"to your reserve"}]})},selectspawntarget_basic_2:function(t){var e=t.MARKS;return Object(a.g)({line:[{text:"Press"},{command:"spawn"},{text:"to place"},{unit:["pawn",2,e.selectspawntarget]},{text:"from your reserve"}]})}},variants:[{ruleset:"basic",board:"basic",setup:"basic",desc:"regular",code:"r",arr:{setup:{toads:{1:["d2","e3","e4","h5"],2:["d7","e6","e7","f6"]}},marks:["e3"],potentialMarks:["c1","e5"]}}],boards:{basic:{height:8,width:8,terrain:{}}},setups:{basic:{toads:{1:["d2","d3","e2","e3"],2:["d6","d7","e6","e7"]}}}},b=f,h=n("nIA/"),N=Object(h.a)(b),v=n("Hxta"),j=n("SvJ2"),I=n("SVIC"),y=n("8/U6"),k={api:N,graphics:v.a,meta:j.a,demo:I.a,rules:y.a,imgsToPreload:["/images/games/sapos/legofrog.jpg"]},w=n("krfZ"),U=n("Xity"),_=n("+zLY"),E=n("0IYK"),O=s.a.createElement,x=function(){var t=Object(E.c)(k.api);return O(U.d.Provider,{value:k},O(U.e.Provider,{value:t},O(w.a,null)))};x.domain="sapos",x.mainImage="/images/games/sapos/sapos_active.png",x.metaDesc="Play the abstract board game Sapos at Chessicals! When toads attack!",x.metaTitle="Sapos by Rey Alicea",x.title="Sapos",x.preloadImages=k.imgsToPreload,x.nav=Object(_.a)(k.meta);e.default=x}},[["o/+m",1,0,2,3,4,5,6,7,49]]]);